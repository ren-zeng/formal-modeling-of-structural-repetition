<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frequency vs Size (Rhythm)</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .header {
            color: grey;
            font: 13px/25.5px var(--sans-serif);
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 2em;
            margin-bottom: 10px;
            color: #333;
        }

        .description {
            margin-bottom: 30px;
            color: #666;
            line-height: 1.6;
        }

        #chart-container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 600px;
            position: relative;
            gap: 20px;
        }

        .visualization-container {
            display: flex;
            width: 100%;
            max-width: 1600px;
            gap: 20px;
        }

        #scatter-plot {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            min-width: 0;
        }

        #info-panel {
            width: 50%;
            min-width: 500px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
            height: fit-content;
            max-height: 90vh;
            overflow-y: auto;
        }

        .info-panel-header {
            background-color: #e9ecef;
            padding: 15px 20px;
            border-bottom: 1px solid #dee2e6;
            border-radius: 8px 8px 0 0;
            font-weight: 600;
            color: #495057;
            font-size: 14px;
        }

        .info-panel-content {
            padding: 20px;
        }

        .piece-details h3 {
            margin: 0 0 15px 0;
            font-size: 18px;
            color: #2c3e50;
            font-weight: 600;
            letter-spacing: -0.025em;
        }

        .detail-item {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 4px 0;
        }

        .detail-label {
            font-weight: 500;
            color: #6b7280;
            font-size: 13px;
        }

        .detail-value {
            color: #666;
        }

        #tree-display {
            border-radius: 5px;
            padding: 10px;
            margin-top: 15px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .tree-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px 15px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .tree-nav-button {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            min-width: 70px;
            transition: background-color 0.2s ease;
        }

        .tree-nav-button:hover:not(:disabled) {
            background-color: #2980b9;
        }

        .tree-nav-button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .tree-counter {
            color: #495057;
            font-size: 14px;
            font-weight: 600;
            background-color: #e9ecef;
            padding: 6px 12px;
            border-radius: 4px;
            border: 1px solid #ced4da;
        }

        .tree-svg-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex: 1;
        }

        .tooltip {
            position: absolute;
            background-color: white;
            padding: 8px;
            border: 1px solid #ddd;
            pointer-events: none;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 100;
            max-width: 200px;
        }

        .button-container {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            z-index: 10;
        }

        .save-button {
            padding: 8px 16px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            touch-action: manipulation;
        }

        .save-button:hover {
            background-color: #2980b9;
        }

        .histogram-bar {
            fill: #69b3a2;
            opacity: 0.7;
        }

        .histogram-bar:hover {
            fill: #4a7a6e;
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #999;
        }

        .error {
            color: #d32f2f;
            background-color: #ffebee;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
        }

        .no-selection {
            text-align: center;
            color: #999;
            font-style: italic;
            padding: 40px 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>Frequency vs Size (Rhythm)</h1>
        </div>

        <div class="description">
            Scatter plot visualization showing the relationship between frequency and size.
        </div>

        <div id="chart-container">
            <div class="visualization-container">
                <div id="scatter-plot">
                    <!-- <div class="button-container">
                         <button class="save-button" onclick="saveSVG()">Save as SVG</button>
                         <button class="save-button" onclick="savePDF()">Save as PDF</button>
                    </div> -->
                </div>
                <div id="info-panel">
                    <div class="info-panel-header">Piece Information</div>
                    <div class="info-panel-content">
                        <div class="no-selection">Click on a data point to view piece details and tree visualization</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to save as SVG
        function saveSVG() {
            const svgData = document.querySelector('svg').outerHTML;
            const blob = new Blob([svgData], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'Frequency vs Size (Rhythm).svg';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        // Function to save as PDF
        function savePDF() {
            try {
                const svgElement = document.querySelector('svg');
                if (!svgElement) {
                    alert('No SVG found to export');
                    return;
                }

                // Method 1: Try direct jsPDF SVG support first
                try {
                    const { jsPDF } = window.jspdf;

                    let svgWidth, svgHeight;
                    const viewBox = svgElement.getAttribute('viewBox');

                    if (viewBox) {
                        const viewBoxValues = viewBox.split(' ');
                        svgWidth = parseFloat(viewBoxValues[2]);
                        svgHeight = parseFloat(viewBoxValues[3]);
                    } else {
                        const rect = svgElement.getBoundingClientRect();
                        svgWidth = rect.width || 800;
                        svgHeight = rect.height || 600;
                    }

                    const orientation = svgWidth > svgHeight ? 'landscape' : 'portrait';
                    const pdf = new jsPDF({
                        orientation: orientation,
                        unit: 'pt',
                        format: [svgWidth, svgHeight]
                    });

                    const svgString = new XMLSerializer().serializeToString(svgElement);

                    if (pdf.svg) {
                        pdf.svg(svgString, {
                            x: 0,
                            y: 0,
                            width: svgWidth,
                            height: svgHeight
                        }).then(() => {
                            pdf.save('Frequency vs Size (Rhythm).pdf');
                        });
                        return;
                    }
                } catch (directSvgError) {
                    console.log('Direct SVG method failed, trying canvas method:', directSvgError);
                }

                // Method 2: Enhanced canvas conversion
                const svgClone = svgElement.cloneNode(true);

                // Remove problematic elements
                const problematicElements = svgClone.querySelectorAll('foreignObject, switch, metadata');
                problematicElements.forEach(el => el.remove());

                // Inline essential styles only
                const allElements = svgClone.querySelectorAll('*');
                allElements.forEach(element => {
                    try {
                        const computedStyle = window.getComputedStyle(element);
                        let styleStr = '';

                        const importantProps = ['fill', 'stroke', 'stroke-width', 'opacity', 'font-family', 'font-size', 'font-weight'];
                        importantProps.forEach(prop => {
                            const value = computedStyle.getPropertyValue(prop);
                            if (value && value !== 'none' && value !== 'normal') {
                                styleStr += `${prop}:${value};`;
                            }
                        });

                        if (styleStr) {
                            element.setAttribute('style', styleStr);
                        }
                    } catch (styleError) {
                        // Ignore style errors for individual elements
                    }
                });

                let svgWidth, svgHeight;
                const viewBox = svgElement.getAttribute('viewBox');

                if (viewBox) {
                    const viewBoxValues = viewBox.split(' ');
                    svgWidth = parseFloat(viewBoxValues[2]);
                    svgHeight = parseFloat(viewBoxValues[3]);
                } else {
                    const rect = svgElement.getBoundingClientRect();
                    svgWidth = rect.width || 800;
                    svgHeight = rect.height || 600;
                }

                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = new Image();

                const scaleFactor = 1.5;
                canvas.width = svgWidth * scaleFactor;
                canvas.height = svgHeight * scaleFactor;

                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.scale(scaleFactor, scaleFactor);

                const timeout = setTimeout(() => {
                    alert('PDF generation timed out. The visualization is too complex for PDF export. Please use SVG export instead.');
                }, 20000);

                img.onload = function () {
                    try {
                        clearTimeout(timeout);

                        ctx.drawImage(img, 0, 0, svgWidth, svgHeight);

                        let imgData;
                        try {
                            imgData = canvas.toDataURL('image/png', 0.9);
                        } catch (canvasError) {
                            throw new Error('Canvas to PNG conversion failed: ' + canvasError.message);
                        }

                        if (!imgData || imgData === 'data:,' || imgData.length < 1000 || !imgData.startsWith('data:image/png')) {
                            throw new Error('Generated image data is invalid or too small');
                        }

                        const { jsPDF } = window.jspdf;
                        const orientation = svgWidth > svgHeight ? 'landscape' : 'portrait';
                        const pdf = new jsPDF({
                            orientation: orientation,
                            unit: 'pt',
                            format: [svgWidth, svgHeight],
                            hotfixes: ['px_scaling']
                        });

                        pdf.addImage(imgData, 'PNG', 0, 0, svgWidth, svgHeight, '', 'FAST');
                        pdf.save('Frequency vs Size (Rhythm).pdf');

                    } catch (error) {
                        clearTimeout(timeout);
                        console.error('Error in canvas method:', error);

                        // Method 3: Fallback to text-only PDF
                        try {
                            const { jsPDF } = window.jspdf;
                            const pdf = new jsPDF();
                            pdf.setFontSize(16);
                            pdf.text('Frequency vs Size (Rhythm)', 20, 30);
                            pdf.setFontSize(12);
                            pdf.text('The visualization was too complex to export as an image.', 20, 50);
                            pdf.text('Please use the SVG export option for full fidelity.', 20, 70);
                            pdf.text('Generated on: ' + new Date().toLocaleString(), 20, 90);
                            pdf.save('Frequency vs Size (Rhythm) - Text Only.pdf');

                            alert('Complex visualization exported as text-only PDF. For the full visualization, please use SVG export.');
                        } catch (fallbackError) {
                            alert('PDF export failed completely. Please use SVG export: ' + error.message);
                        }
                    }
                };

                img.onerror = function (error) {
                    clearTimeout(timeout);
                    console.error('Image loading failed:', error);
                    alert('Failed to convert SVG to image. This visualization may be too complex for PDF export. Please use SVG export instead.');
                };

                try {
                    const svgString = new XMLSerializer().serializeToString(svgClone);
                    const cleanSvgString = svgString
                        .replace(/(\r\n|\n|\r)/gm, '')
                        .replace(/\s+/g, ' ')
                        .trim();

                    const svgBlob = new Blob([cleanSvgString], { type: 'image/svg+xml;charset=utf-8' });
                    const url = URL.createObjectURL(svgBlob);

                    img.src = url;

                    setTimeout(() => {
                        URL.revokeObjectURL(url);
                    }, 25000);

                } catch (encodingError) {
                    clearTimeout(timeout);
                    console.error('SVG encoding failed:', encodingError);
                    alert('Failed to process SVG for PDF export. Please use SVG export instead.');
                }

            } catch (error) {
                console.error('Error in PDF export:', error);
                alert('PDF export failed: ' + error.message + '. Please use SVG export instead.');
            }
        }

        // Set up responsive dimensions
        function getChartDimensions() {
            const containerWidth = document.getElementById('scatter-plot').clientWidth;
            let width, height, margin;

            if (containerWidth < 600) {
                // Mobile dimensions
                margin = { top: 60, right: 20, bottom: 80, left: 50 };
                width = containerWidth - margin.left - margin.right;
                height = Math.min(600, window.innerHeight * 0.7) - margin.top - margin.bottom;
            } else {
                // Desktop dimensions
                margin = { top: 100, right: 30, bottom: 100, left: 60 };
                width = containerWidth - margin.left - margin.right;
                height = 800 - margin.top - margin.bottom;
            }

            return { width, height, margin };
        }

        // Get dimensions based on screen size
        const dims = getChartDimensions();
        const { width, height, margin } = dims;

        // Calculate histogram dimensions for viewBox adjustments
        const histogramHeight = height * 0.15;
        const histogramMargin = 0;

        // Create the SVG container with adjusted dimensions to fit histograms
        const svg = d3.select("#scatter-plot")
            .append("svg")
            .attr("viewBox", `0 0 ${width + margin.left + margin.right + histogramHeight} ${height + margin.top + margin.bottom + histogramHeight}`)
            .attr("preserveAspectRatio", "xMidYMid meet")
            .append("g")
            .attr("transform", `translate(${margin.left + histogramHeight},${margin.top})`);

        // Tree node colors and utility functions
        const TREE_NODE_COLORS = {
            "Prep": "rgba(255, 107, 107, 0.8)", "Prol": "rgba(78, 205, 196, 0.8)", 
            "Term": "rgba(69, 183, 209, 0.8)", "Constant": "rgba(100, 200, 100, 0.8)",
            "Hole": "transparent", "Prepare": "rgba(255, 107, 107, 0.8)",
            "Split": "rgba(254, 202, 87, 0.8)", "Var": "rgba(204, 204, 204, 0.8)",
            "default": "rgba(254, 202, 87, 0.8)"
        };

        // Shared tree parsing logic
        function parseTreeNode(item) {
            if (!item) return null;
            
            if (Array.isArray(item)) {
                if (item.length < 1) return null;
                const [node, children = []] = item;
                return parseNodeObject(node, children);
            } else if (typeof item === 'object') {
                return parseNodeObject(item, []);
            }
            return null;
        }

        function parseNodeObject(node, children) {
            if (!node || Array.isArray(node)) return null;

            // Handle "With" nodes
            if (node.tag === "With" && node.contents?.length >= 2) {
                const [normalNode, withData] = node.contents;
                const nodeInfo = extractNodeInfo(normalNode);
                const [withString = "", withList = []] = Array.isArray(withData) ? withData : ["", []];
                
                const result = { ...nodeInfo, nodeType: "With", withString, withList, children: [] };
                
                // Parse children from both main children and withList
                [...children, ...withList].forEach(child => {
                    const parsed = parseTreeNode(child);
                    if (parsed) result.children.push(parsed);
                });
                
                return result;
            }

            // Handle regular nodes
            const nodeInfo = extractNodeInfo(node);
            const result = { ...nodeInfo, children: [] };
            
            children.forEach(child => {
                const parsed = parseTreeNode(child);
                if (parsed) result.children.push(parsed);
            });
            
            return result;
        }

        function extractNodeInfo(node) {
            const getNodeData = (tag, contents) => {
                if (tag === "Hole") return { name: "○", tag: "Hole", nodeType: "Hole" };
                if (tag === "Constant" && contents) {
                    return {
                        name: contents.contents || contents.tag || "Constant",
                        tag: contents.tag || "Constant",
                        nodeType: "Constant"
                    };
                }
                if (tag === "Var") return { name: contents || "Var", tag: "Var", nodeType: "Var" };
                return { name: contents || tag || "Node", tag, nodeType: tag };
            };
            
            return getNodeData(node.tag, node.contents);
        }

        // Unified tree creation function
        function createTreeSVG(deCompressionProcess, index = 0) {
            if (!deCompressionProcess?.length || index >= deCompressionProcess.length) return null;
            
            const ruleTree = deCompressionProcess[index];
            if (!ruleTree?.length || ruleTree.length < 2) return null;

            const [rootNode, rootChildren] = ruleTree;

            function parseTree(item) {
                if (Array.isArray(item)) {
                    if (item.length >= 1) {
                        const node = item[0];
                        const children = item.length > 1 ? item[1] : [];

                        if (node && typeof node === 'object' && !Array.isArray(node)) {
                            // Handle "With" nodes specially
                            if (node.tag === "With" && node.contents && Array.isArray(node.contents) && node.contents.length >= 2) {
                                const normalNode = node.contents[0];
                                const withData = node.contents[1];
                                
                                // Extract main node info
                                let nodeText, nodeTag;
                                if (normalNode.tag === "Constant" && normalNode.contents) {
                                    nodeText = normalNode.contents.contents || normalNode.contents.tag || "Constant";
                                    nodeTag = normalNode.contents.tag || "Constant";
                                } else if (normalNode.tag === "Var") {
                                    nodeText = normalNode.contents || "Var";
                                    nodeTag = "Var";
                                } else {
                                    nodeText = normalNode.contents || normalNode.tag || "Node";
                                    nodeTag = normalNode.tag;
                                }
                                
                                // Extract the string and list from withData
                                let withString = "";
                                let withList = [];
                                if (Array.isArray(withData) && withData.length >= 2) {
                                    withString = withData[0] || "";
                                    withList = withData[1] || [];
                                }
                                
                                const result = {
                                    name: nodeText,
                                    tag: nodeTag,
                                    nodeType: "With",
                                    withString: withString,
                                    withList: withList,
                                    children: []
                                };

                                // Parse children from the main children array
                                if (Array.isArray(children)) {
                                    for (const child of children) {
                                        const parsedChild = parseTree(child);
                                        if (parsedChild) result.children.push(parsedChild);
                                    }
                                }
                                
                                // Parse children from the withList
                                if (Array.isArray(withList)) {
                                    for (const withChild of withList) {
                                        const parsedWithChild = parseTree(withChild);
                                        if (parsedWithChild) result.children.push(parsedWithChild);
                                    }
                                }
                                
                                return result;
                            }
                            
                            // Handle regular nodes
                            let nodeText, nodeTag;
                            if (node.tag === "Hole") {
                                nodeText = "○";
                                nodeTag = "Hole";
                            } else if (node.tag === "Constant" && node.contents) {
                                nodeText = node.contents.contents || node.contents.tag || "Constant";
                                nodeTag = node.contents.tag || "Constant";
                            } else if (node.tag === "Var") {
                                nodeText = node.contents || "Var";
                                nodeTag = "Var";
                            } else {
                                nodeText = node.contents || node.tag || "Node";
                                nodeTag = node.tag;
                            }

                            const result = {
                                name: nodeText,
                                tag: nodeTag,
                                nodeType: node.tag,
                                children: []
                            };

                            if (Array.isArray(children)) {
                                for (const child of children) {
                                    const parsedChild = parseTree(child);
                                    if (parsedChild) result.children.push(parsedChild);
                                }
                            }
                            return result;
                        }
                    }
                } else if (item && typeof item === 'object') {
                    // Handle "With" nodes that are not in array format
                    if (item.tag === "With" && item.contents && Array.isArray(item.contents) && item.contents.length >= 2) {
                        const normalNode = item.contents[0];
                        const withData = item.contents[1];
                        
                        // Extract main node info
                        let nodeText, nodeTag;
                        if (normalNode.tag === "Constant" && normalNode.contents) {
                            nodeText = normalNode.contents.contents || normalNode.contents.tag || "Constant";
                            nodeTag = normalNode.contents.tag || "Constant";
                        } else if (normalNode.tag === "Var") {
                            nodeText = normalNode.contents || "Var";
                            nodeTag = "Var";
                        } else {
                            nodeText = normalNode.contents || normalNode.tag || "Node";
                            nodeTag = normalNode.tag;
                        }
                        
                        // Extract the string and list from withData
                        let withString = "";
                        let withList = [];
                        if (Array.isArray(withData) && withData.length >= 2) {
                            withString = withData[0] || "";
                            withList = withData[1] || [];
                        }
                        
                        const result = {
                            name: nodeText,
                            tag: nodeTag,
                            nodeType: "With",
                            withString: withString,
                            withList: withList,
                            children: []
                        };
                        
                        // Parse children from the withList
                        if (Array.isArray(withList)) {
                            for (const withChild of withList) {
                                const parsedWithChild = parseTree(withChild);
                                if (parsedWithChild) result.children.push(parsedWithChild);
                            }
                        }
                        
                        return result;
                    }
                    
                    // Handle regular object nodes
                    let nodeText, nodeTag, nodeType;
                    if (item.tag === "Hole") {
                        nodeText = "○";
                        nodeTag = "Hole";
                        nodeType = "Hole";
                    } else if (item.tag === "Constant" && item.contents) {
                        nodeText = item.contents.contents || item.contents.tag || "Constant";
                        nodeTag = item.contents.tag || "Constant";
                        nodeType = "Constant";
                    } else if (item.tag === "Var") {
                        nodeText = item.contents || "Var";
                        nodeTag = "Var";
                        nodeType = "Var";
                    } else {
                        nodeText = item.contents || item.tag || "Node";
                        nodeTag = item.tag;
                        nodeType = item.tag;
                    }

                    return {
                        name: nodeText,
                        tag: nodeTag,
                        nodeType: nodeType,
                        children: []
                    };
                }
                return null;
            }

            let treeData;
            if (rootNode.tag === "Hole") {
                treeData = {
                    name: "○",
                    tag: "Hole",
                    nodeType: "Hole",
                    children: []
                };
            } else if (rootNode.tag === "Constant" && rootNode.contents) {
                treeData = {
                    name: rootNode.contents.contents || rootNode.contents.tag || "Constant",
                    tag: rootNode.contents.tag || "Constant",
                    nodeType: "Constant",
                    children: []
                };
            } else if (rootNode.tag === "Var") {
                treeData = {
                    name: rootNode.contents || "Var",
                    tag: "Var",
                    nodeType: "Var",
                    children: []
                };
            } else {
                treeData = {
                    name: rootNode.contents || rootNode.tag || "Root",
                    tag: rootNode.tag,
                    nodeType: rootNode.tag,
                    children: []
                };
            }

            if (Array.isArray(rootChildren)) {
                for (const child of rootChildren) {
                    const parsedChild = parseTree(child);
                    if (parsedChild) treeData.children.push(parsedChild);
                }
            }

            // Calculate tree dimensions
            function calculateTreeDimensions(root) {
                const hierarchy = d3.hierarchy(root);
                const maxDepth = hierarchy.height;
                const leaves = hierarchy.leaves().length;

                // Get the full panel width (minus padding)
                const infoPanel = document.getElementById('info-panel');
                const panelWidth = infoPanel ? infoPanel.clientWidth - 40 : 460; // 20px padding on each side
                
                const minWidth = panelWidth;
                const minHeight = 200;
                const nodeWidth = 80;
                const nodeHeight = 60;

                // Use full panel width
                const idealWidth = panelWidth;
                const idealHeight = Math.max(minHeight, (maxDepth + 1) * nodeHeight + 80);

                // Set maximum height constraint
                const maxHeight = 400; // Maximum height to prevent overly tall trees

                // Scale down height if needed
                const scaleY = idealHeight > maxHeight ? maxHeight / idealHeight : 1;

                return {
                    width: idealWidth,
                    height: Math.min(idealHeight, maxHeight),
                    scale: scaleY,
                    idealWidth: idealWidth,
                    idealHeight: idealHeight
                };
            }

            const dimensions = calculateTreeDimensions(treeData);
            const treeWidth = dimensions.width;
            const treeHeight = dimensions.height;
            const scale = dimensions.scale;
            const fontSize = Math.max(8, Math.min(12, (treeWidth / 50) * scale));

            const treeSvg = d3.create("svg")
                .attr("width", treeWidth)
                .attr("height", treeHeight)
                .style("background", "rgba(0, 0, 0, 0.9)")
                .style("border-radius", "5px");

            // Apply scaling to the tree layout based on ideal dimensions
            const layoutWidth = (dimensions.idealWidth) * scale;
            const layoutHeight = (dimensions.idealHeight - 60) * scale;

            const treeLayout = d3.tree()
                .size([layoutWidth, layoutHeight])
                .separation((a, b) => {
                    // Calculate actual node widths for both nodes
                    const aTextLength = a.data.name.length;
                    const bTextLength = b.data.name.length;
                    const aWidth = Math.max(aTextLength * fontSize * 0.6 + 24, fontSize * 3);
                    const bWidth = Math.max(bTextLength * fontSize * 0.6 + 24, fontSize * 3);
                    
                    // Calculate minimum separation needed to prevent overlap
                    const minSeparation = (aWidth + bWidth) / 2 + 20; // Extra padding
                    
                    // Scale separation based on available width and tree scale
                    const baseSeparation = Math.max(2.0, minSeparation / 60);
                    
                    // Increase separation for siblings vs cousins
                    const isSibling = a.parent === b.parent;
                    const separationMultiplier = isSibling ? 1.0 : 1.0;
                    
                    return baseSeparation * separationMultiplier / scale;
                });

            const hierarchyTree = d3.hierarchy(treeData);
            const treeNodes = treeLayout(hierarchyTree);

            const g = treeSvg.append("g")
                .attr("transform", `translate(${treeWidth/2 - layoutWidth/2}, ${treeHeight/2 - layoutHeight/2})`);

            // Add links with scaled stroke width
            g.selectAll(".tree-link")
                .data(treeNodes.links())
                .enter().append("line")
                .attr("class", "tree-link")
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y)
                .style("stroke", "#999")
                .style("stroke-width", Math.max(1, 2 * scale));

            // Add nodes
            const node = g.selectAll(".tree-node")
                .data(treeNodes.descendants())
                .enter().append("g")
                .attr("class", "tree-node")
                .attr("transform", d => `translate(${d.x},${d.y})`);

            // Add background shapes with scaled dimensions and overlap prevention
            node.each(function (d) {
                const nodeElement = d3.select(this);
                const isWithNode = d.data.nodeType === "With";
                const textLength = d.data.name.length;
                
                // Calculate available space based on tree width and number of leaves at this level
                const levelNodes = treeNodes.descendants().filter(n => n.depth === d.depth);
                const availableWidth = layoutWidth / Math.max(levelNodes.length, 1);
                const maxNodeWidth = availableWidth * 0.8; // Leave some spacing between nodes
                
                // Start with base font size and scale down if needed
                let adjustedFontSize = fontSize;
                let nodeWidth = Math.max(textLength * adjustedFontSize * 0.6 + 12, adjustedFontSize * 2.5);
                
                // Shrink font size if node would be too wide
                while (nodeWidth > maxNodeWidth && adjustedFontSize > 6) {
                    adjustedFontSize -= 0.5;
                    nodeWidth = Math.max(textLength * adjustedFontSize * 0.6 + 12, adjustedFontSize * 2.5);
                }
                
                // Apply overall scale factor
                const finalFontSize = Math.max(6, adjustedFontSize * scale);
                const finalNodeWidth = Math.min(nodeWidth * scale, maxNodeWidth);
                // Make "With" nodes taller to accommodate multiple lines
                const finalNodeHeight = isWithNode ? 
                    Math.max(finalFontSize * 3 + 8, finalFontSize * 2 + 6) : 
                    Math.max(finalFontSize * 1.4 + 6, finalFontSize + 4);

                if (d.data.nodeType !== "Hole") {
                    nodeElement.append("rect")
                        .attr("width", finalNodeWidth)
                        .attr("height", finalNodeHeight)
                        .attr("x", -finalNodeWidth / 2)
                        .attr("y", -finalNodeHeight / 2)
                        .attr("rx", Math.max(2, finalFontSize * 0.25))
                        .style("fill", d => {
                            const nodeTag = d.data.tag || d.data.nodeType;
                            return TREE_NODE_COLORS[nodeTag] || TREE_NODE_COLORS.default;
                        })
                        .style("stroke", "#fff")
                        .style("stroke-width", Math.max(0.5, finalFontSize * 0.1));
                }
                
                // Store the final font size for text rendering
                d._finalFontSize = finalFontSize;
                d._finalNodeWidth = finalNodeWidth;
                d._finalNodeHeight = finalNodeHeight;
                d._adjustedFontSize = adjustedFontSize;
            });

            // Add text labels with dynamically scaled font and smart truncation for "With" nodes
            node.each(function(d) {
                const nodeElement = d3.select(this);
                const isWithNode = d.data.nodeType === "With";
                
                if (isWithNode) {
                    // For "With" nodes, display three components: main text, withString, withList count
                    const mainText = d.data.name;
                    const withString = d.data.withString || "";
                    const withListCount = (d.data.withList && Array.isArray(d.data.withList)) ? d.data.withList.length : 0;
                    
                    // Main node text (top line)
                    nodeElement.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", "-0.5em")
                        .style("font-family", "monospace")
                        .style("font-size", `${d._finalFontSize}px`)
                        .style("fill", "white")
                        .style("font-weight", "bold")
                        .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                        .text(mainText);
                    
                    // With string (middle line, yellow)
                    if (withString) {
                        nodeElement.append("text")
                            .attr("text-anchor", "middle")
                            .attr("dy", "0.35em")
                            .style("font-family", "monospace")
                            .style("font-size", `${Math.max(6, d._finalFontSize * 0.8)}px`)
                            .style("fill", "#FFD700")
                            .style("font-weight", "bold")
                            .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                            .text(withString);
                    }
                    
                    // With list count (bottom line, light blue)
                    if (withListCount > 0) {
                        nodeElement.append("text")
                            .attr("text-anchor", "middle")
                            .attr("dy", "1.2em")
                            .style("font-family", "monospace")
                            .style("font-size", `${Math.max(6, d._finalFontSize * 0.7)}px`)
                            .style("fill", "#87CEEB")
                            .style("font-weight", "bold")
                            .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                            .text(`[${withListCount}]`);
                    }
                } else {
                    // For regular nodes, use single-line text
                    const text = d.data.name;
                    const maxWidth = d._finalNodeWidth - 8; // Padding inside node
                    const charWidth = d._finalFontSize * 0.6;
                    const maxChars = Math.floor(maxWidth / charWidth);
                    
                    let displayText = text;
                    // Truncate text if needed
                    if (text.length > maxChars && maxChars > 3) {
                        if (maxChars <= 6) {
                            // Very small space - just show first few chars
                            displayText = text.substring(0, maxChars);
                        } else {
                            // Enough space for ellipsis
                            displayText = text.substring(0, maxChars - 3) + "...";
                        }
                    }
                    
                    nodeElement.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", "0.35em")
                        .style("font-family", "monospace")
                        .style("font-size", `${d._finalFontSize}px`)
                        .style("fill", "white")
                        .style("font-weight", "bold")
                        .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                        .text(displayText);
                }
            });

            return treeSvg.node();
        }

        // Embedded JSON data
        const data = [{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":["PG116","PG117","PG12","PG2","PG31","PG39","PG41","PG61","PG78","PG86"],"depths":[0.3333333333333333,0.5,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.5,0.625,0.75,0.625,0.5,0.25,0.8,0.8,0.8,0.6,0.8,0.8,0.5714285714285714,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.2857142857142857,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.5714285714285714,0.7142857142857143,0.8571428571428571,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.42857142857142855,0.5714285714285714,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.2857142857142857,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.2857142857142857,0.5,0.5,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.5714285714285714,0.5714285714285714,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.7142857142857143,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.5,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.5,0.6666666666666666,0.5,0.6666666666666666,0.5,0.6666666666666666,0.8333333333333334,0.5,0.6666666666666666,0.5,0.6666666666666666,0.5,0.6666666666666666,0.8,0.8,0.4,0.8,0.4,0.8,0.4,0.5555555555555556,0.5555555555555556,0.6666666666666666,0.5555555555555556,0.6666666666666666,0.6666666666666666,0.5555555555555556,0.5555555555555556,0.6666666666666666,0.6666666666666666,0.5555555555555556,0.5555555555555556,0.3333333333333333,0.5555555555555556,0.3333333333333333,0.375,0.25,0.5,0.5,0.625,0.625,0.5,0.75,0.75,0.875,0.375,0.75,0.5,0.5,0.25,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.3333333333333333,0.8571428571428571,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.5714285714285714,0.7142857142857143,0.42857142857142855,0.5714285714285714,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.2857142857142857,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.2857142857142857,0.625,0.5,0.625,0.625,0.875,0.875,0.5,0.625,0.5,0.625,0.5,0.625,0.625,0.5,0.25,0.5,0.6666666666666666,0.8333333333333334,0.5,0.6666666666666666,0.6,0.6,0.6,0.8,0.8,0.8,0.8,0.8,0.5,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.5,0.5,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.5,0.8333333333333334,0.8333333333333334,0.5,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.42857142857142855,0.7142857142857143,0.42857142857142855,0.42857142857142855,0.8571428571428571,0.5714285714285714,0.4444444444444444,0.7777777777777778,0.8888888888888888,0.7777777777777778,0.5555555555555556,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.6666666666666666,0.4444444444444444,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.8,0.6,0.6,0.4,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.42857142857142855,0.8571428571428571,0.7142857142857143,0.2857142857142857,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.14285714285714285,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.5,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.5,0.6666666666666666,0.8333333333333334,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.5,0.6666666666666666,0.6666666666666666,0.6,0.6,0.6,0.6,0.8,0.6,0.8333333333333334,0.3333333333333333,0.5,0.625,0.625,0.875,0.875,0.625,0.5,0.75,0.75,0.8571428571428571,0.7142857142857143,0.7777777777777778,0.7777777777777778,0.6666666666666666,0.6666666666666666,0.7777777777777778,0.7777777777777778,0.7777777777777778,0.6666666666666666,0.6666666666666666,0.8888888888888888,0.8888888888888888,0.7777777777777778,0.6666666666666666,0.8888888888888888,0.8888888888888888,0.7777777777777778,0.1111111111111111,0.5555555555555556,0.5555555555555556,0.4444444444444444,0.3333333333333333,0.5555555555555556,0.5555555555555556,0.4444444444444444,0.6,0.8,0.6,0.8,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.14285714285714285,0.42857142857142855,0.5714285714285714,0.8571428571428571,0.2857142857142857,0.8333333333333334,0.5,0.5,0.5,0.5,0.6,0.6,0.8,0.8,0.8,0.8333333333333334,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.8333333333333334,0.5,0.5,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.42857142857142855,0.7142857142857143,0.8571428571428571,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.8,0.8,0.4,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.6,0.8,0.8,0.625,0.75,0.75,0.625,0.25,0.625,0.375,0.625,0.625,0.375,0.625,0.375,0.75,0.875,0.25,0.625,0.625,0.625,0.25,0.75,0.75,0.5],"globalFreq":410,"impact":571,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK280:2M01:08","(Valid)MozartK281:2M02:09","(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK283:2M01:04","(Valid)MozartK284:2M01:08","(Valid)MozartK309:2M01:04","(Valid)MozartK310:2M01:04","(Valid)MozartK311:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK457:2M01:03","(Valid)MozartK533:2M01:04","(Valid)MozartK545:2M01:08","(Valid)MozartK570:2M01:04","(Valid)SchubertN01M08:11","(Valid)SchubertN02M06:09","(Valid)SchubertN03M08:15","(Valid)SchubertN05M09:12","(Valid)SchubertN05M21:24","(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN09M09:14","(Valid)SchubertN10M07:15","(Valid)SchubertN12M07:10","(Valid)SchubertN13M10:25","(Valid)SchubertN14M05:08","(Valid)SchubertN15M06:09","(Valid)SchubertN18M04:08","(Valid)SchubertN19M06:12","(Valid)SchubertN20M06:19","(Valid)SchubertN22M05:09","(Valid)SchubertN23M05:08","(Valid)SchumannN01M02:05","(Valid)SchumannN03M10:15","(Valid)SchumannN04M01:04","(Valid)SchumannN06M02:07","(Valid)SchumannN07M01:04","(Valid)SchumannN08M02:09","(Valid)SchumannN10M08:15","(Valid)SchumannN12M02:09"],"patternID":"PG1","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":"PG6","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG6"],"dependentsDirect":["PG114","PG115","PG21","PG27","PG41","PG46","PG84"],"depths":[0.42857142857142855,0.42857142857142855,0.42857142857142855,0.42857142857142855,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.42857142857142855,0.2857142857142857,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.42857142857142855,0.375,0.375,0.375,0.375,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.42857142857142855,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.4,0.42857142857142855,0.5,0.375,0.375,0.42857142857142855,0.4,0.4,0.2857142857142857,0.5,0.5,0.5,0.5,0.5714285714285714,0.5,0.5,0.5,0.625],"globalFreq":43,"impact":107,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK284:2M01:08","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK570:2M01:04","(Valid)SchubertN05M09:12","(Valid)SchubertN05M21:24","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN19M06:12","(Valid)SchumannN03M10:15","(Valid)SchumannN08M02:09"],"patternID":"PG10","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG87","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG87"],"dependentsDirect":[],"depths":[0.42857142857142855,0.2],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchubertN15M06:09"],"patternID":"PG100","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":15},{"definition":{"contents":[{"contents":"PG73","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG73"],"dependentsDirect":[],"depths":[0,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN19M06:12","(Valid)SchumannN05M07:14"],"patternID":"PG101","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG69","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG69"],"dependentsDirect":[],"depths":[0.2857142857142857,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN10M07:15","(Valid)SchubertN14M05:08"],"patternID":"PG102","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":17},{"definition":{"contents":[{"contents":"PG42","tag":"Var"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG42"],"dependentsDirect":[],"depths":[0.2857142857142857,0.3333333333333333],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK310:2M01:04","(Valid)MozartK332:2M01:04"],"patternID":"PG103","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":15},{"definition":{"contents":[{"contents":"PG38","tag":"Var"},[[{"contents":"PG92","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG38","PG92"],"dependentsDirect":[],"depths":[0.14285714285714285,0.125],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN13M10:25","(Valid)SchubertN18M04:08"],"patternID":"PG104","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":19},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":"PG61","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG3","PG61"],"dependentsDirect":[],"depths":[0.5555555555555556,0.5],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK332:2M01:04","(Valid)SchumannN10M08:15"],"patternID":"PG105","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"contents":"Early","tag":"Shift"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":"PG30","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG3","PG30"],"dependentsDirect":[],"depths":[0.5,0.5],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN05M09:12","(Valid)SchumannN03M10:15"],"patternID":"PG106","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG3"],"dependentsDirect":[],"depths":[0.3333333333333333,0.3333333333333333],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN12M07:10","(Valid)SchumannN03M10:15"],"patternID":"PG107","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"tag":"Hole"},[]]]]]],"sizeExpanded":4},{"definition":{"contents":[{"contents":"PG24","tag":"Var"},[[{"contents":"PG27","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG24","PG27"],"dependentsDirect":[],"depths":[0.2857142857142857,0.3333333333333333],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN08M11:20","(Valid)SchumannN03M10:15"],"patternID":"PG108","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":17},{"definition":{"contents":[{"contents":"PG22","tag":"Var"},[[{"contents":"PG18","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG18","PG22"],"dependentsDirect":[],"depths":[0.4,0.3333333333333333],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04"],"patternID":"PG109","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG9","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG9"],"dependentsDirect":["PG23","PG54","PG59","PG66"],"depths":[0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.6666666666666666,0.5,0.5,0.5555555555555556,0.5555555555555556,0.375,0.5,0.5,0.6666666666666666,0.7142857142857143,0.5714285714285714,0.5,0.75,0.5714285714285714,0.5714285714285714,0.5,0.75,0.625,0.6666666666666666,0.7777777777777778,0.7777777777777778,0.4444444444444444,0.4444444444444444,0.5714285714285714,0.625],"globalFreq":31,"impact":44,"occuranceInCorpus":["(Valid)MozartK310:2M01:04","(Valid)MozartK311:2M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK545:2M01:08","(Valid)SchubertN12M07:10","(Valid)SchubertN18M04:08","(Valid)SchubertN20M06:19","(Valid)SchubertN22M05:09","(Valid)SchumannN10M08:15"],"patternID":"PG11","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG22","tag":"Var"},[[{"contents":"PG13","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG13","PG22"],"dependentsDirect":[],"depths":[0.25,0.5],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)SchubertN03M08:15"],"patternID":"PG110","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG17","tag":"Var"},[[{"contents":"PG13","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG13","PG17"],"dependentsDirect":[],"depths":[0.2,0.42857142857142855],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK281:2M02:09","(Valid)SchubertN13M10:25"],"patternID":"PG111","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG16","tag":"Var"},[[{"contents":"PG13","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG13","PG16"],"dependentsDirect":[],"depths":[0.125,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)SchumannN01M02:05"],"patternID":"PG112","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG14","tag":"Var"},[[{"contents":"PG13","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG13","PG14"],"dependentsDirect":[],"depths":[0.5714285714285714,0.42857142857142855],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchumannN06M02:07"],"patternID":"PG113","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG10","tag":"Var"},[[{"contents":"PG14","tag":"Var"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG10","PG14"],"dependentsDirect":[],"depths":[0.42857142857142855,0.3333333333333333],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)SchubertN05M21:24"],"patternID":"PG114","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG10","tag":"Var"},[[{"contents":"PG12","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG10","PG12"],"dependentsDirect":[],"depths":[0.3333333333333333,0.375],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK330:2M01:04","(Valid)MozartK570:2M01:04"],"patternID":"PG115","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG1","tag":"Var"},[[{"contents":"PG6","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG6"],"dependentsDirect":[],"depths":[0.5,0.5],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK457:2M01:03","(Valid)SchubertN23M05:08"],"patternID":"PG116","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG1","tag":"Var"},[[{"contents":"PG42","tag":"Var"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG42"],"dependentsDirect":[],"depths":[0.2857142857142857,0.25],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchumannN10M08:15"],"patternID":"PG117","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":15},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":"PG34","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG34"],"dependentsDirect":[],"depths":[0.3333333333333333,0.5],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK457:2M01:03"],"patternID":"PG118","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":"PG98","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG98"],"dependentsDirect":[],"depths":[0,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14"],"patternID":"PG119","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":25},{"definition":{"contents":[{"contents":"PG1","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG4"],"dependentsDirect":["PG115","PG52","PG67","PG72"],"depths":[0.2857142857142857,0.7142857142857143,0.5714285714285714,0.42857142857142855,0.5,0.6666666666666666,0.6666666666666666,0.5714285714285714,0.5,0.4,0.3333333333333333,0.42857142857142855,0.5,0.6666666666666666,0.42857142857142855,0.6,0.6,0.4,0.42857142857142855,0.3333333333333333,0.7777777777777778,0.7777777777777778,0.5,0.6666666666666666,0.4,0.375,0.375,0.375],"globalFreq":28,"impact":27,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK309:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK545:2M01:08","(Valid)MozartK570:2M01:04","(Valid)SchubertN06M05:08","(Valid)SchubertN09M05:08","(Valid)SchumannN07M01:04","(Valid)SchumannN10M08:15"],"patternID":"PG12","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG7","tag":"Var"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG7"],"dependentsDirect":["PG110","PG111","PG112","PG113","PG53"],"depths":[0.5,0.375,0.6,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.6666666666666666,0.7142857142857143,0.375,0.375,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.6,0.6,0.6,0.5,0.5714285714285714,0.42857142857142855,0.5,0.375],"globalFreq":26,"impact":32,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)MozartK281:2M02:09","(Valid)MozartK282:1M05:08","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK545:2M01:08","(Valid)SchubertN03M08:15","(Valid)SchubertN13M10:25","(Valid)SchumannN01M02:05","(Valid)SchumannN06M02:07"],"patternID":"PG13","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":["PG113","PG114","PG30","PG32","PG77"],"depths":[0.2857142857142857,0.5714285714285714,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.6666666666666666,0.5,0.5,0.5714285714285714,0.42857142857142855,0.5714285714285714,0.6666666666666666,0.6666666666666666,0.5,0.6666666666666666,0.42857142857142855,0.6666666666666666,0.6666666666666666,0.5,0.5,0.5,0.5,0.5],"globalFreq":25,"impact":52,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK545:2M01:08","(Valid)SchubertN05M09:12","(Valid)SchubertN05M21:24","(Valid)SchubertN08M11:20","(Valid)SchubertN09M09:14","(Valid)SchubertN14M05:08","(Valid)SchubertN16M05:08","(Valid)SchumannN03M10:15","(Valid)SchumannN06M02:07","(Valid)SchumannN08M02:09","(Valid)SchumannN12M02:09"],"patternID":"PG14","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2"],"dependentsDirect":["PG26","PG68","PG98"],"depths":[0.7142857142857143,0.5714285714285714,0.5714285714285714,0.3333333333333333,0.625,0.5,0.5714285714285714,0.7142857142857143,0.42857142857142855,0.6666666666666666,0.7777777777777778,0.6666666666666666,0.5555555555555556,0.5555555555555556,0.5555555555555556,0.3333333333333333,0.5714285714285714,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.6666666666666666,0.6666666666666666],"globalFreq":22,"impact":22,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14","(Valid)SchubertN09M09:14","(Valid)SchubertN20M06:19"],"patternID":"PG15","ruleTree":[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":4},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":"PG8","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG8"],"dependentsDirect":["PG112","PG28","PG37","PG82","PG83"],"depths":[0.125,0,0,0,0,0,0.2857142857142857,0,0,0,0,0,0,0,0,0,0.2857142857142857,0,0,0,0,0.125],"globalFreq":22,"impact":45,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)MozartK332:2M01:04","(Valid)SchubertN01M08:11","(Valid)SchubertN08M11:20","(Valid)SchubertN10M07:15","(Valid)SchubertN14M05:08","(Valid)SchubertN15M06:09","(Valid)SchubertN19M06:12","(Valid)SchumannN01M02:05","(Valid)SchumannN04M01:04","(Valid)SchumannN05M07:14","(Valid)SchumannN12M02:09"],"patternID":"PG16","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG5","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG5"],"dependentsDirect":["PG111","PG24","PG94","PG95"],"depths":[0.2,0.2857142857142857,0.3333333333333333,0.3333333333333333,0.2857142857142857,0.14285714285714285,0.2222222222222222,0.1111111111111111,0.2857142857142857,0.2857142857142857,0.42857142857142855,0.42857142857142855,0.2857142857142857,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.375,0.16666666666666666,0.16666666666666666,0.3333333333333333,0.2],"globalFreq":21,"impact":30,"occuranceInCorpus":["(Valid)MozartK281:2M02:09","(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14","(Valid)SchubertN08M11:20","(Valid)SchubertN10M07:15","(Valid)SchubertN13M10:25","(Valid)SchubertN18M04:08","(Valid)SchubertN23M05:08","(Valid)SchumannN03M10:15"],"patternID":"PG17","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG7","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG7"],"dependentsDirect":["PG109","PG60","PG93"],"depths":[0.6,0.6,0.5714285714285714,0.42857142857142855,0.6,0.4444444444444444,0.6,0.6,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.7142857142857143,0.7142857142857143,0.5,0.4,0.7142857142857143,0.42857142857142855,0.5,0.6,0.5],"globalFreq":20,"impact":14,"occuranceInCorpus":["(Valid)MozartK281:2M02:09","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)SchubertN02M06:09","(Valid)SchubertN14M05:08","(Valid)SchumannN01M02:05","(Valid)SchumannN08M02:09"],"patternID":"PG18","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2"],"dependentsDirect":["PG58","PG59","PG75","PG76"],"depths":[0.16666666666666666,0.5,0.375,0.625,0.5714285714285714,0.5714285714285714,0.6,0.6,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.5,0.375,0.5555555555555556,0.2857142857142857],"globalFreq":16,"impact":33,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK331:1M01:04","(Valid)SchubertN01M08:11","(Valid)SchubertN12M07:10","(Valid)SchubertN18M04:08","(Valid)SchubertN20M06:19","(Valid)SchubertN22M05:09"],"patternID":"PG19","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG1","tag":"Var"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1"],"dependentsDirect":["PG100","PG11","PG15","PG18","PG19","PG27","PG30","PG31","PG35","PG44","PG48","PG57","PG6","PG64","PG65","PG7","PG70","PG87","PG9","PG94"],"depths":[0.3333333333333333,0.5,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.5,0.625,0.75,0.625,0.5,0.8,0.8,0.8,0.6,0.8,0.8,0.5714285714285714,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.5,0.6666666666666666,0.6666666666666666,0.5714285714285714,0.5714285714285714,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.5,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.5,0.6666666666666666,0.5,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.6666666666666666,0.5,0.6666666666666666,0.6666666666666666,0.8,0.8,0.8,0.8,0.5555555555555556,0.5555555555555556,0.6666666666666666,0.6666666666666666,0.5555555555555556,0.6666666666666666,0.6666666666666666,0.5555555555555556,0.5555555555555556,0.5555555555555556,0.3333333333333333,0.375,0.5,0.5,0.625,0.625,0.5,0.75,0.75,0.875,0.375,0.75,0.5,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.3333333333333333,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.625,0.625,0.625,0.875,0.875,0.625,0.5,0.625,0.625,0.625,0.5,0.5,0.6666666666666666,0.8333333333333334,0.5,0.6666666666666666,0.6,0.6,0.6,0.8,0.8,0.8,0.8,0.8,0.5,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.5,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.5,0.8333333333333334,0.8333333333333334,0.5,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.42857142857142855,0.7142857142857143,0.42857142857142855,0.8571428571428571,0.5714285714285714,0.4444444444444444,0.7777777777777778,0.8888888888888888,0.7777777777777778,0.5555555555555556,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.6666666666666666,0.4444444444444444,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.8,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.7142857142857143,0.5714285714285714,0.5,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.5,0.6666666666666666,0.8333333333333334,0.8571428571428571,0.8571428571428571,0.8571428571428571,0.6666666666666666,0.6666666666666666,0.6,0.6,0.6,0.6,0.8,0.6,0.8333333333333334,0.5,0.625,0.625,0.875,0.875,0.625,0.5,0.75,0.75,0.8571428571428571,0.7142857142857143,0.6666666666666666,0.6666666666666666,0.7777777777777778,0.7777777777777778,0.7777777777777778,0.6666666666666666,0.6666666666666666,0.8888888888888888,0.8888888888888888,0.7777777777777778,0.6666666666666666,0.8888888888888888,0.8888888888888888,0.7777777777777778,0.5555555555555556,0.5555555555555556,0.4444444444444444,0.3333333333333333,0.5555555555555556,0.5555555555555556,0.4444444444444444,0.6,0.8,0.6,0.8,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.42857142857142855,0.5714285714285714,0.8571428571428571,0.8333333333333334,0.5,0.5,0.6,0.6,0.8,0.8,0.8,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.8333333333333334,0.5,0.5,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.8571428571428571,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.8,0.8,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.6,0.8,0.8,0.625,0.75,0.75,0.625,0.625,0.625,0.625,0.75,0.875,0.625,0.625,0.625,0.75,0.75,0.5],"globalFreq":338,"impact":1524,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK280:2M01:08","(Valid)MozartK281:2M02:09","(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK283:2M01:04","(Valid)MozartK284:2M01:08","(Valid)MozartK309:2M01:04","(Valid)MozartK310:2M01:04","(Valid)MozartK311:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK457:2M01:03","(Valid)MozartK533:2M01:04","(Valid)MozartK545:2M01:08","(Valid)MozartK570:2M01:04","(Valid)SchubertN01M08:11","(Valid)SchubertN02M06:09","(Valid)SchubertN03M08:15","(Valid)SchubertN05M09:12","(Valid)SchubertN05M21:24","(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN09M09:14","(Valid)SchubertN10M07:15","(Valid)SchubertN12M07:10","(Valid)SchubertN13M10:25","(Valid)SchubertN14M05:08","(Valid)SchubertN15M06:09","(Valid)SchubertN18M04:08","(Valid)SchubertN19M06:12","(Valid)SchubertN20M06:19","(Valid)SchubertN22M05:09","(Valid)SchubertN23M05:08","(Valid)SchumannN01M02:05","(Valid)SchumannN03M10:15","(Valid)SchumannN04M01:04","(Valid)SchumannN06M02:07","(Valid)SchumannN08M02:09","(Valid)SchumannN10M08:15","(Valid)SchumannN12M02:09"],"patternID":"PG2","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":["PG40"],"depths":[0.75,0.5,0.75,0.375,0.42857142857142855,0.42857142857142855,0.42857142857142855,0.42857142857142855,0.42857142857142855,0.625,0.5,0.5,0.5],"globalFreq":13,"impact":6,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)SchumannN04M01:04","(Valid)SchumannN11M03:04"],"patternID":"PG20","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":"PG10","tag":"Var"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG10"],"dependentsDirect":["PG57"],"depths":[0.42857142857142855,0.375,0.375,0.5714285714285714,0.5714285714285714,0.4,0.5,0.375,0.375,0.42857142857142855,0.5,0.5,0.625],"globalFreq":13,"impact":4,"occuranceInCorpus":["(Valid)SchubertN09M05:08","(Valid)SchubertN19M06:12","(Valid)SchumannN03M10:15"],"patternID":"PG21","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4"],"dependentsDirect":["PG109","PG110","PG55","PG56"],"depths":[0.25,0.4,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.5,0.16666666666666666,0.3333333333333333,0.7142857142857143,0.4,0.375,0.375,0.5],"globalFreq":13,"impact":26,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)SchubertN03M08:15","(Valid)SchubertN16M05:08","(Valid)SchumannN06M02:07","(Valid)SchumannN07M01:04","(Valid)SchumannN10M08:15","(Valid)SchumannN12M02:09"],"patternID":"PG22","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG7","tag":"Var"},[[{"contents":"PG11","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG11","PG7"],"dependentsDirect":["PG42"],"depths":[0.5714285714285714,0.42857142857142855,0.4444444444444444,0.4444444444444444,0.375,0.5,0.5714285714285714,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.5],"globalFreq":12,"impact":6,"occuranceInCorpus":["(Valid)MozartK310:2M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK545:2M01:08","(Valid)SchumannN10M08:15"],"patternID":"PG23","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG17","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG17","PG4"],"dependentsDirect":["PG108","PG74","PG92"],"depths":[0.2857142857142857,0.2857142857142857,0.42857142857142855,0.42857142857142855,0.2857142857142857,0.42857142857142855,0.5714285714285714,0.375,0.16666666666666666,0.16666666666666666,0.3333333333333333,0.2],"globalFreq":12,"impact":13,"occuranceInCorpus":["(Valid)SchubertN08M11:20","(Valid)SchubertN10M07:15","(Valid)SchubertN13M10:25","(Valid)SchubertN18M04:08","(Valid)SchubertN23M05:08","(Valid)SchumannN03M10:15"],"patternID":"PG24","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG8","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG8"],"dependentsDirect":["PG43","PG85"],"depths":[0.5,0,0,0.2857142857142857,0,0.42857142857142855,0.14285714285714285,0,0.16666666666666666,0],"globalFreq":10,"impact":9,"occuranceInCorpus":["(Valid)MozartK309:2M01:04","(Valid)SchubertN10M07:15","(Valid)SchubertN13M10:25","(Valid)SchumannN11M03:04"],"patternID":"PG25","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":"PG15","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG15","PG3"],"dependentsDirect":["PG96"],"depths":[0.3333333333333333,0.42857142857142855,0.5714285714285714,0.5555555555555556,0.6666666666666666,0.4444444444444444,0.4444444444444444,0.5714285714285714,0.5714285714285714,0.5],"globalFreq":10,"impact":2,"occuranceInCorpus":["(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14"],"patternID":"PG26","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":6},{"definition":{"contents":[{"contents":"PG10","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG10","PG2"],"dependentsDirect":["PG108"],"depths":[0.42857142857142855,0.3333333333333333,0.42857142857142855,0.4,0.4,0.2857142857142857,0.5,0.5,0.5714285714285714,0.5],"globalFreq":10,"impact":2,"occuranceInCorpus":["(Valid)SchubertN08M11:20","(Valid)SchumannN03M10:15"],"patternID":"PG27","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG16","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG16"],"dependentsDirect":["PG50","PG73"],"depths":[0,0,0,0,0,0,0,0,0.125],"globalFreq":9,"impact":10,"occuranceInCorpus":["(Valid)SchubertN15M06:09","(Valid)SchubertN19M06:12","(Valid)SchumannN05M07:14","(Valid)SchumannN12M02:09"],"patternID":"PG28","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG5","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG5"],"dependentsDirect":["PG65","PG92","PG93"],"depths":[0.3333333333333333,0.3333333333333333,0.3333333333333333,0.2857142857142857,0.25,0.2,0.2857142857142857,0.3333333333333333,0.16666666666666666],"globalFreq":9,"impact":13,"occuranceInCorpus":["(Valid)MozartK309:2M01:04","(Valid)SchubertN13M10:25","(Valid)SchubertN18M04:08","(Valid)SchumannN01M02:05","(Valid)SchumannN08M02:09"],"patternID":"PG29","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":["PG105","PG106","PG107","PG26","PG4","PG54","PG6","PG71","PG72"],"depths":[0.5,0.6666666666666666,0.6666666666666666,0.625,0.875,0.75,0.875,0.375,0.5,0.4,0.6,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.8571428571428571,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.42857142857142855,0.7142857142857143,0.5714285714285714,0.42857142857142855,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.5,0.6666666666666666,0.8333333333333334,0.5,0.6666666666666666,0.8333333333333334,0.42857142857142855,0.7142857142857143,0.5,0.5,0.5,0.5,0.5,0.6666666666666666,0.5,0.6,0.6,0.8,0.8,0.4444444444444444,0.5555555555555556,0.4444444444444444,0.4444444444444444,0.4444444444444444,0.4444444444444444,0.4444444444444444,0.75,0.625,0.3333333333333333,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.8571428571428571,0.8571428571428571,0.5,0.5,0.625,0.5,0.5,0.6666666666666666,0.3333333333333333,0.5,0.5,0.6,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.5,0.3333333333333333,0.5,0.3333333333333333,0.5,0.5,0.3333333333333333,0.8333333333333334,0.5,0.3333333333333333,0.2857142857142857,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.42857142857142855,0.3333333333333333,0.5555555555555556,0.6666666666666666,0.4444444444444444,0.4444444444444444,0.4444444444444444,0.5555555555555556,0.4444444444444444,0.4444444444444444,0.3333333333333333,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.6,0.8,0.4,0.8,0.4,0.6,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.3333333333333333,0.6666666666666666,0.3333333333333333,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.8333333333333334,0.3333333333333333,0.5,0.5,0.5,0.5,0.6,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.5,0.5,0.5,0.375,0.5,0.5,0.625,0.625,0.625,0.5,0.5,0.375,0.5,0.375,0.42857142857142855,0.5714285714285714,0.5714285714285714,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.42857142857142855,0.5555555555555556,0.7777777777777778,0.8888888888888888,0.5555555555555556,0.7777777777777778,0.8888888888888888,0.6,0.4,0.6,0.4,0.42857142857142855,0.42857142857142855,0.6666666666666666,0.5,0.5,0.6666666666666666,0.5,0.5,0.6,0.6,0.6,0.5,0.5,0.8333333333333334,0.3333333333333333,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.5,0.5,0.5,0.5,0.6666666666666666,0.5,0.5,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.42857142857142855,0.6,0.6,0.6,0.6,0.6,0.6,0.6666666666666666,0.6666666666666666,0.5,0.6666666666666666,0.5,0.6666666666666666,0.5,0.4,0.6,0.6,0.6,0.6,0.6,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.75,0.5,0.75,0.5,0.5,0.625,0.625,0.625,0.625,0.625],"globalFreq":282,"impact":453,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK280:2M01:08","(Valid)MozartK281:2M02:09","(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK284:2M01:08","(Valid)MozartK309:2M01:04","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK457:2M01:03","(Valid)MozartK533:2M01:04","(Valid)MozartK545:2M01:08","(Valid)MozartK570:2M01:04","(Valid)SchubertN01M08:11","(Valid)SchubertN03M08:15","(Valid)SchubertN05M09:12","(Valid)SchubertN05M21:24","(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN09M09:14","(Valid)SchubertN10M07:15","(Valid)SchubertN12M07:10","(Valid)SchubertN13M10:25","(Valid)SchubertN14M05:08","(Valid)SchubertN15M06:09","(Valid)SchubertN16M05:08","(Valid)SchubertN18M04:08","(Valid)SchubertN19M06:12","(Valid)SchubertN22M05:09","(Valid)SchubertN23M05:08","(Valid)SchumannN01M02:05","(Valid)SchumannN03M10:15","(Valid)SchumannN04M01:04","(Valid)SchumannN05M07:14","(Valid)SchumannN06M02:07","(Valid)SchumannN07M01:04","(Valid)SchumannN08M02:09","(Valid)SchumannN10M08:15","(Valid)SchumannN11M03:04","(Valid)SchumannN12M02:09"],"patternID":"PG3","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":"PG14","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG14","PG2"],"dependentsDirect":["PG106","PG46"],"depths":[0.5714285714285714,0.6666666666666666,0.5,0.5714285714285714,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.5],"globalFreq":9,"impact":9,"occuranceInCorpus":["(Valid)MozartK282:1M05:08","(Valid)SchubertN05M09:12","(Valid)SchubertN08M11:20","(Valid)SchumannN03M10:15","(Valid)SchumannN08M02:09"],"patternID":"PG30","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG1","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG2"],"dependentsDirect":[],"depths":[0.6666666666666666,0.7142857142857143,0.42857142857142855,0.5,0.25,0.5,0.7142857142857143,0.5714285714285714],"globalFreq":8,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)MozartK283:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK457:2M01:03","(Valid)MozartK570:2M01:04","(Valid)SchubertN10M07:15"],"patternID":"PG31","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG14","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG14","PG4"],"dependentsDirect":["PG78","PG81"],"depths":[0.2857142857142857,0.7142857142857143,0.7142857142857143,0.42857142857142855,0.5714285714285714,0.6666666666666666,0.5,0.5],"globalFreq":8,"impact":7,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchubertN09M09:14","(Valid)SchubertN14M05:08","(Valid)SchubertN16M05:08"],"patternID":"PG32","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":[],"depths":[0.5714285714285714,0.5714285714285714,0.3333333333333333,0.5,0.5,0.6666666666666666,0.5],"globalFreq":7,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)MozartK310:2M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK457:2M01:03","(Valid)SchubertN01M08:11"],"patternID":"PG33","ruleTree":[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":2},{"definition":{"contents":[{"contents":"PG9","tag":"Var"},[[{"contents":"PG6","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG6","PG9"],"dependentsDirect":["PG118","PG76"],"depths":[0.3333333333333333,0.5,0.5714285714285714,0.5714285714285714,0.625,0.5,0.5],"globalFreq":7,"impact":7,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK457:2M01:03","(Valid)SchubertN01M08:11","(Valid)SchubertN12M07:10"],"patternID":"PG34","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG2","tag":"Var"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2"],"dependentsDirect":[],"depths":[0.6,0.3333333333333333,0.6,0.6,0.5],"globalFreq":5,"impact":0,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK281:2M02:09","(Valid)MozartK533:2M01:04","(Valid)SchubertN02M06:09","(Valid)SchumannN04M01:04"],"patternID":"PG35","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":{"contents":"Early","tag":"Shift"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":["PG47"],"depths":[0.5714285714285714,0.42857142857142855,0.8888888888888888,0.7777777777777778,0.7777777777777778,0.8333333333333334,0.875],"globalFreq":7,"impact":5,"occuranceInCorpus":["(Valid)MozartK332:2M01:04","(Valid)SchumannN10M08:15"],"patternID":"PG36","ruleTree":[{"contents":{"contents":"Early","tag":"Shift"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":2},{"definition":{"contents":[{"contents":"PG16","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG16","PG4"],"dependentsDirect":["PG45"],"depths":[0.2857142857142857,0,0,0.2857142857142857,0,0],"globalFreq":6,"impact":5,"occuranceInCorpus":["(Valid)SchubertN10M07:15","(Valid)SchubertN14M05:08"],"patternID":"PG37","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":["PG104"],"depths":[0.2857142857142857,0.14285714285714285,0,0.25,0.14285714285714285,0.125],"globalFreq":6,"impact":2,"occuranceInCorpus":["(Valid)SchubertN13M10:25","(Valid)SchubertN18M04:08"],"patternID":"PG38","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG5","tag":"Var"},[[{"contents":"PG1","tag":"Var"},[[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG5"],"dependentsDirect":["PG91"],"depths":[0,0,0,0,0.16666666666666666,0],"globalFreq":6,"impact":2,"occuranceInCorpus":["(Valid)MozartK284:2M01:08","(Valid)MozartK570:2M01:04"],"patternID":"PG39","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG3"],"dependentsDirect":["PG101","PG102","PG12","PG17","PG22","PG24","PG25","PG29","PG32","PG37","PG40","PG43","PG45","PG51","PG56","PG58","PG62","PG63","PG69","PG71","PG73","PG85","PG90","PG99"],"depths":[0.6666666666666666,0.625,0.875,0.75,0.875,0.375,0.5,0.6,0.42857142857142855,0.42857142857142855,0.5714285714285714,0.8571428571428571,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.6666666666666666,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.8333333333333334,0.6666666666666666,0.8333333333333334,0.7142857142857143,0.6666666666666666,0.6,0.6,0.8,0.8,0.4444444444444444,0.4444444444444444,0.4444444444444444,0.4444444444444444,0.3333333333333333,0.5714285714285714,0.8571428571428571,0.8571428571428571,0.625,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.5,0.8333333333333334,0.3333333333333333,0.5714285714285714,0.5714285714285714,0.42857142857142855,0.4444444444444444,0.5555555555555556,0.4444444444444444,0.3333333333333333,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8,0.8,0.6,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.3333333333333333,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.7142857142857143,0.8333333333333334,0.3333333333333333,0.5,0.5,0.5,0.5,0.6666666666666666,0.3333333333333333,0.5,0.5,0.5,0.5,0.625,0.625,0.5,0.375,0.375,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.42857142857142855,0.42857142857142855,0.5555555555555556,0.7777777777777778,0.8888888888888888,0.7777777777777778,0.8888888888888888,0.4,0.4,0.5,0.5,0.6666666666666666,0.5,0.5,0.6,0.6,0.6,0.5,0.8333333333333334,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.5,0.5,0.5,0.5,0.5,0.7142857142857143,0.7142857142857143,0.8571428571428571,0.8571428571428571,0.5714285714285714,0.42857142857142855,0.6,0.6,0.6,0.6,0.6666666666666666,0.5,0.5,0.5,0.6,0.6,0.6,0.6,0.6,0.5,0.5,0.5,0.5,0.5,0.5,0.75,0.5,0.5,0.625,0.625,0.625],"globalFreq":174,"impact":1170,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)MozartK281:2M02:09","(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK284:2M01:08","(Valid)MozartK309:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK533:2M01:04","(Valid)MozartK545:2M01:08","(Valid)MozartK570:2M01:04","(Valid)SchubertN03M08:15","(Valid)SchubertN05M21:24","(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN09M09:14","(Valid)SchubertN10M07:15","(Valid)SchubertN13M10:25","(Valid)SchubertN14M05:08","(Valid)SchubertN16M05:08","(Valid)SchubertN18M04:08","(Valid)SchubertN19M06:12","(Valid)SchubertN23M05:08","(Valid)SchumannN01M02:05","(Valid)SchumannN03M10:15","(Valid)SchumannN04M01:04","(Valid)SchumannN05M07:14","(Valid)SchumannN06M02:07","(Valid)SchumannN07M01:04","(Valid)SchumannN08M02:09","(Valid)SchumannN10M08:15","(Valid)SchumannN11M03:04","(Valid)SchumannN12M02:09"],"patternID":"PG4","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":"PG20","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG20","PG4"],"dependentsDirect":[],"depths":[0.75,0.75,0.375,0.5,0.5,0.5],"globalFreq":6,"impact":0,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)SchumannN04M01:04","(Valid)SchumannN11M03:04"],"patternID":"PG40","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG10","tag":"Var"},[[{"contents":"PG1","tag":"Var"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG10"],"dependentsDirect":["PG53"],"depths":[0.42857142857142855,0.42857142857142855,0.2857142857142857,0.3333333333333333,0.42857142857142855,0.375],"globalFreq":6,"impact":4,"occuranceInCorpus":["(Valid)MozartK282:1M05:08","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04"],"patternID":"PG41","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":"PG23","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG23"],"dependentsDirect":["PG103","PG117"],"depths":[0.2857142857142857,0.3333333333333333,0.3333333333333333,0.3333333333333333,0.42857142857142855,0.375],"globalFreq":6,"impact":6,"occuranceInCorpus":["(Valid)MozartK310:2M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK545:2M01:08","(Valid)SchumannN10M08:15"],"patternID":"PG42","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG25","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG25","PG4"],"dependentsDirect":["PG90"],"depths":[0.5,0,0.2857142857142857,0.14285714285714285,0],"globalFreq":5,"impact":2,"occuranceInCorpus":["(Valid)MozartK309:2M01:04","(Valid)SchubertN10M07:15"],"patternID":"PG43","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG5","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG5"],"dependentsDirect":["PG70"],"depths":[0.2857142857142857,0.5714285714285714,0.16666666666666666,0.2857142857142857,0.5714285714285714],"globalFreq":5,"impact":3,"occuranceInCorpus":["(Valid)MozartK283:2M01:04","(Valid)MozartK284:2M01:08","(Valid)SchubertN09M09:14"],"patternID":"PG44","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG37","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG37","PG4"],"dependentsDirect":["PG69"],"depths":[0.2857142857142857,0,0,0,0],"globalFreq":5,"impact":3,"occuranceInCorpus":["(Valid)SchubertN10M07:15","(Valid)SchubertN14M05:08"],"patternID":"PG45","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG10","tag":"Var"},[[{"contents":"PG30","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG10","PG30"],"dependentsDirect":[],"depths":[0.42857142857142855,0.3333333333333333,0.42857142857142855,0.5,0.5],"globalFreq":5,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M05:08","(Valid)SchubertN05M09:12","(Valid)SchubertN08M11:20","(Valid)SchumannN08M02:09"],"patternID":"PG46","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":"PG36","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG36"],"dependentsDirect":["PG61"],"depths":[0.7777777777777778,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.75],"globalFreq":5,"impact":4,"occuranceInCorpus":["(Valid)MozartK332:2M01:04","(Valid)SchumannN10M08:15"],"patternID":"PG47","ruleTree":[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"contents":"Early","tag":"Shift"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":"PG8","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG8"],"dependentsDirect":["PG64"],"depths":[0.42857142857142855,0.2,0.2,0.4444444444444444],"globalFreq":4,"impact":3,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchubertN15M06:09"],"patternID":"PG48","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG8","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG8"],"dependentsDirect":["PG81"],"depths":[0.125,0,0,0],"globalFreq":4,"impact":2,"occuranceInCorpus":["(Valid)SchubertN09M09:14","(Valid)SchubertN16M05:08"],"patternID":"PG49","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":["PG17","PG29","PG39","PG44","PG52","PG8","PG80"],"depths":[0,0.25,0.2,0.2,0.2857142857142857,0,0.2857142857142857,0.14285714285714285,0.14285714285714285,0.2857142857142857,0,0.5714285714285714,0.14285714285714285,0,0.3333333333333333,0.5,0.16666666666666666,0.3333333333333333,0.3333333333333333,0,0.14285714285714285,0.16666666666666666,0,0,0.1111111111111111,0.1111111111111111,0.125,0,0,0.42857142857142855,0.14285714285714285,0,0.125,0,0.16666666666666666,0.2,0.2,0.3333333333333333,0.16666666666666666,0.3333333333333333,0.3333333333333333,0,0,0,0.14285714285714285,0.2857142857142857,0.14285714285714285,0.4444444444444444,0.1111111111111111,0.2222222222222222,0.1111111111111111,0.2857142857142857,0.2857142857142857,0.42857142857142855,0.42857142857142855,0.14285714285714285,0,0.2857142857142857,0.5714285714285714,0,0.42857142857142855,0.42857142857142855,0.2857142857142857,0.2857142857142857,0,0,0.42857142857142855,0.2857142857142857,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.14285714285714285,0.16666666666666666,0.2,0.2,0,0.375,0.25,0.125,0.14285714285714285,0.14285714285714285,0.3333333333333333,0.4444444444444444,0.2222222222222222,0.1111111111111111,0,0,0.16666666666666666,0.16666666666666666,0.2,0.2,0.3333333333333333,0,0.16666666666666666,0.16666666666666666,0.16666666666666666,0.16666666666666666,0.42857142857142855,0.2857142857142857,0.14285714285714285,0.2,0,0.3333333333333333,0.16666666666666666,0.16666666666666666,0.2,0.2,0.125,0.125,0,0.25,0.125],"globalFreq":112,"impact":216,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)MozartK281:2M02:09","(Valid)MozartK282:1M01:04","(Valid)MozartK283:2M01:04","(Valid)MozartK284:2M01:08","(Valid)MozartK309:2M01:04","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK533:2M01:04","(Valid)MozartK545:2M01:08","(Valid)MozartK570:2M01:04","(Valid)SchubertN01M08:11","(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN09M09:14","(Valid)SchubertN10M07:15","(Valid)SchubertN13M10:25","(Valid)SchubertN14M05:08","(Valid)SchubertN15M06:09","(Valid)SchubertN16M05:08","(Valid)SchubertN18M04:08","(Valid)SchubertN19M06:12","(Valid)SchubertN23M05:08","(Valid)SchumannN01M02:05","(Valid)SchumannN03M10:15","(Valid)SchumannN04M01:04","(Valid)SchumannN05M07:14","(Valid)SchumannN07M01:04","(Valid)SchumannN08M02:09","(Valid)SchumannN10M08:15","(Valid)SchumannN11M03:04","(Valid)SchumannN12M02:09"],"patternID":"PG5","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG28","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG28"],"dependentsDirect":["PG89"],"depths":[0,0,0,0.125],"globalFreq":4,"impact":2,"occuranceInCorpus":["(Valid)SchubertN15M06:09","(Valid)SchumannN12M02:09"],"patternID":"PG50","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4"],"dependentsDirect":[],"depths":[0.4444444444444444,0.42857142857142855,0.6666666666666666,0.6666666666666666],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)SchubertN06M09:14","(Valid)SchubertN19M06:12"],"patternID":"PG51","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG5","tag":"Var"},[[{"contents":"PG12","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG12","PG5"],"dependentsDirect":[],"depths":[0.16666666666666666,0.14285714285714285,0,0.125],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)MozartK309:2M01:04","(Valid)SchubertN06M05:08","(Valid)SchumannN07M01:04","(Valid)SchumannN10M08:15"],"patternID":"PG52","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG41","tag":"Var"},[[{"contents":"PG13","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG13","PG41"],"dependentsDirect":[],"depths":[0.42857142857142855,0.42857142857142855,0.2857142857142857,0.3333333333333333],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M05:08","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04"],"patternID":"PG53","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":"PG11","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG11","PG3"],"dependentsDirect":["PG75"],"depths":[0.5,0.625,0.5,0.42857142857142855],"globalFreq":4,"impact":3,"occuranceInCorpus":["(Valid)SchubertN18M04:08","(Valid)SchubertN22M05:09"],"patternID":"PG54","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG22","tag":"Var"},[[{"contents":"PG6","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG22","PG6"],"dependentsDirect":[],"depths":[0.3333333333333333,0.3333333333333333,0.375,0.375],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)MozartK332:2M01:04","(Valid)SchumannN10M08:15"],"patternID":"PG55","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG22","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG22","PG4"],"dependentsDirect":[],"depths":[0.3333333333333333,0.7142857142857143,0.4,0.5],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)SchubertN16M05:08","(Valid)SchumannN06M02:07","(Valid)SchumannN07M01:04","(Valid)SchumannN12M02:09"],"patternID":"PG56","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG21","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG21"],"dependentsDirect":[],"depths":[0.4,0.42857142857142855,0.5,0.5],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)SchubertN09M05:08","(Valid)SchubertN19M06:12","(Valid)SchumannN03M10:15"],"patternID":"PG57","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG19","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG19","PG4"],"dependentsDirect":[],"depths":[0.5,0.625,0.6,0.6],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)MozartK331:1M01:04"],"patternID":"PG58","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG19","tag":"Var"},[[{"contents":"PG11","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG11","PG19"],"dependentsDirect":[],"depths":[0.5714285714285714,0.5714285714285714,0.3333333333333333,0.5555555555555556],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)SchubertN12M07:10","(Valid)SchubertN20M06:19"],"patternID":"PG59","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG3"],"dependentsDirect":["PG10","PG116","PG34","PG55","PG77","PG89"],"depths":[0.5,0.6666666666666666,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.5,0.5,0.42857142857142855,0.5,0.5,0.5,0.5,0.5,0.4444444444444444,0.4444444444444444,0.75,0.625,0.7142857142857143,0.5714285714285714,0.5,0.5,0.5,0.5,0.6666666666666666,0.5,0.6,0.5,0.5,0.5,0.2857142857142857,0.3333333333333333,0.4444444444444444,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.6,0.5714285714285714,0.7142857142857143,0.6666666666666666,0.6,0.6666666666666666,0.375,0.5,0.5,0.5714285714285714,0.6,0.6,0.42857142857142855,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.7142857142857143,0.6,0.6,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.4,0.5,0.5,0.5,0.75,0.5,0.625,0.625],"globalFreq":76,"impact":103,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK284:2M01:08","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK457:2M01:03","(Valid)MozartK570:2M01:04","(Valid)SchubertN01M08:11","(Valid)SchubertN05M09:12","(Valid)SchubertN05M21:24","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN12M07:10","(Valid)SchubertN15M06:09","(Valid)SchubertN19M06:12","(Valid)SchubertN23M05:08","(Valid)SchumannN03M10:15","(Valid)SchumannN08M02:09","(Valid)SchumannN10M08:15","(Valid)SchumannN12M02:09"],"patternID":"PG6","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG18","tag":"Var"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG18"],"dependentsDirect":[],"depths":[0.6,0.6,0.6,0.5],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)MozartK281:2M02:09","(Valid)SchubertN02M06:09","(Valid)SchubertN14M05:08"],"patternID":"PG60","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG1","tag":"Var"},[[{"contents":"PG47","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG47"],"dependentsDirect":["PG105"],"depths":[0.6666666666666666,0.5555555555555556,0.5555555555555556,0.625],"globalFreq":4,"impact":2,"occuranceInCorpus":["(Valid)MozartK332:2M01:04","(Valid)SchumannN10M08:15"],"patternID":"PG61","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"contents":"Early","tag":"Shift"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4"],"dependentsDirect":[],"depths":[0.3333333333333333,0.42857142857142855,0.42857142857142855,0.375],"globalFreq":4,"impact":0,"occuranceInCorpus":["(Valid)SchubertN05M21:24","(Valid)SchubertN09M09:14","(Valid)SchubertN13M10:25","(Valid)SchumannN12M02:09"],"patternID":"PG62","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG8","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG8"],"dependentsDirect":["PG88"],"depths":[0,0.3333333333333333,0.2],"globalFreq":3,"impact":2,"occuranceInCorpus":["(Valid)MozartK533:2M01:04","(Valid)SchumannN07M01:04"],"patternID":"PG63","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG48","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG2","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG48"],"dependentsDirect":["PG87"],"depths":[0.42857142857142855,0.2,0.4444444444444444],"globalFreq":3,"impact":2,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchubertN15M06:09"],"patternID":"PG64","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG29","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG29"],"dependentsDirect":[],"depths":[0.3333333333333333,0.3333333333333333,0.3333333333333333],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK309:2M01:04"],"patternID":"PG65","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":"PG11","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG11"],"dependentsDirect":[],"depths":[0.3333333333333333,0.42857142857142855,0.42857142857142855],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK311:2M01:04"],"patternID":"PG66","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG8","tag":"Var"},[[{"contents":"PG12","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG12","PG8"],"dependentsDirect":[],"depths":[0,0.14285714285714285,0],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)MozartK545:2M01:08","(Valid)SchubertN09M05:08"],"patternID":"PG67","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG7","tag":"Var"},[[{"contents":"PG15","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG15","PG7"],"dependentsDirect":[],"depths":[0.5714285714285714,0.42857142857142855,0.5555555555555556],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M01:04","(Valid)SchubertN09M09:14","(Valid)SchubertN20M06:19"],"patternID":"PG68","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":8},{"definition":{"contents":[{"contents":"PG45","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG45"],"dependentsDirect":["PG102"],"depths":[0.2857142857142857,0,0],"globalFreq":3,"impact":2,"occuranceInCorpus":["(Valid)SchubertN10M07:15","(Valid)SchubertN14M05:08"],"patternID":"PG69","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":15},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":"PG2","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2"],"dependentsDirect":["PG13","PG18","PG23","PG68","PG74"],"depths":[0.5,0.375,0.6,0.6,0.6,0.42857142857142855,0.5714285714285714,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.5714285714285714,0.6666666666666666,0.6,0.4444444444444444,0.4444444444444444,0.4444444444444444,0.375,0.375,0.5,0.7142857142857143,0.5714285714285714,0.375,0.375,0.6,0.6,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.7142857142857143,0.7142857142857143,0.42857142857142855,0.5714285714285714,0.42857142857142855,0.7142857142857143,0.7142857142857143,0.5,0.5555555555555556,0.5555555555555556,0.6666666666666666,0.6666666666666666,0.3333333333333333,0.3333333333333333,0.7142857142857143,0.3333333333333333,0.3333333333333333,0.4,0.6,0.6,0.6,0.5,0.5714285714285714,0.7142857142857143,0.42857142857142855,0.42857142857142855,0.5,0.6,0.5,0.5,0.5,0.375],"globalFreq":67,"impact":129,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)MozartK281:2M02:09","(Valid)MozartK282:1M01:04","(Valid)MozartK282:1M05:08","(Valid)MozartK310:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK545:2M01:08","(Valid)SchubertN02M06:09","(Valid)SchubertN03M08:15","(Valid)SchubertN09M09:14","(Valid)SchubertN10M07:15","(Valid)SchubertN13M10:25","(Valid)SchubertN14M05:08","(Valid)SchubertN20M06:19","(Valid)SchubertN23M05:08","(Valid)SchumannN01M02:05","(Valid)SchumannN06M02:07","(Valid)SchumannN08M02:09","(Valid)SchumannN10M08:15"],"patternID":"PG7","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG44","tag":"Var"},[[{"contents":"PG2","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG44"],"dependentsDirect":[],"depths":[0.2857142857142857,0.5714285714285714,0.2857142857142857],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK283:2M01:04","(Valid)MozartK284:2M01:08","(Valid)SchubertN09M09:14"],"patternID":"PG70","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG3","PG4"],"dependentsDirect":[],"depths":[0.42857142857142855,0.42857142857142855,0.42857142857142855],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK284:2M01:08","(Valid)SchubertN13M10:25"],"patternID":"PG71","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG3","tag":"Var"},[[{"contents":"PG12","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG12","PG3"],"dependentsDirect":[],"depths":[0.5714285714285714,0.4,0.4],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M05:08","(Valid)SchubertN09M05:08"],"patternID":"PG72","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG28","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG28","PG4"],"dependentsDirect":["PG101"],"depths":[0,0,0],"globalFreq":3,"impact":2,"occuranceInCorpus":["(Valid)SchubertN19M06:12","(Valid)SchumannN05M07:14"],"patternID":"PG73","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG24","tag":"Var"},[[{"contents":"PG7","tag":"Var"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG24","PG7"],"dependentsDirect":[],"depths":[0.2857142857142857,0.16666666666666666,0.16666666666666666],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)SchubertN10M07:15","(Valid)SchubertN23M05:08"],"patternID":"PG74","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG19","tag":"Var"},[[{"contents":"PG54","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG19","PG54"],"dependentsDirect":[],"depths":[0.5,0.375,0.2857142857142857],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)SchubertN18M04:08","(Valid)SchubertN22M05:09"],"patternID":"PG75","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG19","tag":"Var"},[[{"contents":"PG34","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG19","PG34"],"dependentsDirect":[],"depths":[0.16666666666666666,0.3333333333333333,0.3333333333333333],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)SchubertN01M08:11","(Valid)SchubertN12M07:10"],"patternID":"PG76","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG14","tag":"Var"},[[{"contents":"PG6","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG14","PG6"],"dependentsDirect":[],"depths":[0.42857142857142855,0.5,0.5],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK282:1M05:08","(Valid)SchumannN12M02:09"],"patternID":"PG77","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG1","tag":"Var"},[[{"contents":"PG32","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG32"],"dependentsDirect":["PG97"],"depths":[0.5714285714285714,0.5714285714285714,0.5],"globalFreq":3,"impact":2,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchubertN14M05:08"],"patternID":"PG78","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":{"contents":"Early","tag":"Shift"},"tag":"Constant"},[[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":[],"dependentsDirect":[],"depths":[0.5,0.5,0.42857142857142855],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)SchubertN22M05:09"],"patternID":"PG79","ruleTree":[{"contents":{"contents":"Early","tag":"Shift"},"tag":"Constant"},[[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"tag":"Hole"},[]]]]]],"sizeExpanded":3},{"definition":{"contents":[{"contents":"PG5","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG5"],"dependentsDirect":["PG16","PG25","PG48","PG49","PG63","PG67","PG82","PG84","PG86"],"depths":[0.25,0,0.14285714285714285,0,0.14285714285714285,0.5,0,0,0.1111111111111111,0.1111111111111111,0,0.42857142857142855,0.14285714285714285,0.125,0.16666666666666666,0.2,0.2,0,0,0.1111111111111111,0.14285714285714285,0,0,0.42857142857142855,0.2857142857142857,0,0.42857142857142855,0.14285714285714285,0.16666666666666666,0.2,0.2,0,0.125,0.14285714285714285,0.14285714285714285,0.3333333333333333,0.4444444444444444,0.1111111111111111,0,0.2,0,0.16666666666666666,0.16666666666666666,0.16666666666666666,0.16666666666666666,0.42857142857142855,0.14285714285714285,0.2,0.16666666666666666,0.2,0.125,0,0.25],"globalFreq":53,"impact":151,"occuranceInCorpus":["(Valid)MozartK280:2M01:08","(Valid)MozartK282:1M01:04","(Valid)MozartK283:2M01:04","(Valid)MozartK284:2M01:08","(Valid)MozartK309:2M01:04","(Valid)MozartK330:2M01:04","(Valid)MozartK331:1M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK533:2M01:04","(Valid)MozartK545:2M01:08","(Valid)SchubertN01M08:11","(Valid)SchubertN08M11:20","(Valid)SchubertN09M05:08","(Valid)SchubertN09M09:14","(Valid)SchubertN10M07:15","(Valid)SchubertN13M10:25","(Valid)SchubertN14M05:08","(Valid)SchubertN15M06:09","(Valid)SchubertN16M05:08","(Valid)SchubertN19M06:12","(Valid)SchumannN01M02:05","(Valid)SchumannN04M01:04","(Valid)SchumannN05M07:14","(Valid)SchumannN07M01:04","(Valid)SchumannN11M03:04","(Valid)SchumannN12M02:09"],"patternID":"PG8","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":"PG5","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG5"],"dependentsDirect":[],"depths":[0,0,0],"globalFreq":3,"impact":0,"occuranceInCorpus":["(Valid)MozartK281:2M02:09","(Valid)MozartK310:2M01:04","(Valid)SchumannN12M02:09"],"patternID":"PG80","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":7},{"definition":{"contents":[{"contents":"PG49","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":"PG32","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG32","PG49"],"dependentsDirect":[],"depths":[0,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN09M09:14","(Valid)SchubertN16M05:08"],"patternID":"PG81","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG16","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":"PG8","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG16","PG8"],"dependentsDirect":[],"depths":[0,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK332:2M01:04","(Valid)SchumannN04M01:04"],"patternID":"PG82","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":15},{"definition":{"contents":[{"contents":"PG16","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG16"],"dependentsDirect":[],"depths":[0,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN01M08:11","(Valid)SchubertN08M11:20"],"patternID":"PG83","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG8","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":"PG10","tag":"Var"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG10","PG8"],"dependentsDirect":[],"depths":[0.14285714285714285,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK284:2M01:08","(Valid)MozartK330:2M01:04"],"patternID":"PG84","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG25","tag":"Var"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]],[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG25","PG4"],"dependentsDirect":[],"depths":[0.42857142857142855,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN13M10:25","(Valid)SchumannN11M03:04"],"patternID":"PG85","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":11},{"definition":{"contents":[{"contents":"PG8","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG1","tag":"Var"},[[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG1","PG8"],"dependentsDirect":[],"depths":[0,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK283:2M01:04","(Valid)MozartK331:1M01:04"],"patternID":"PG86","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG64","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2","PG64"],"dependentsDirect":["PG100"],"depths":[0.42857142857142855,0.2],"globalFreq":2,"impact":2,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchubertN15M06:09"],"patternID":"PG87","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG63","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG63"],"dependentsDirect":[],"depths":[0,0.2],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK533:2M01:04","(Valid)SchumannN07M01:04"],"patternID":"PG88","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG50","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG6","tag":"Var"},[]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG50","PG6"],"dependentsDirect":[],"depths":[0,0.125],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchubertN15M06:09","(Valid)SchumannN12M02:09"],"patternID":"PG89","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG2"],"dependentsDirect":["PG11","PG34"],"depths":[0.3333333333333333,0.5,0.5,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.7142857142857143,0.5714285714285714,0.5714285714285714,0.6666666666666666,0.3333333333333333,0.5,0.5,0.5555555555555556,0.5555555555555556,0.375,0.5,0.625,0.5,0.6666666666666666,0.7142857142857143,0.5714285714285714,0.5,0.75,0.5,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5714285714285714,0.5,0.5,0.75,0.625,0.6666666666666666,0.7777777777777778,0.7777777777777778,0.4444444444444444,0.4444444444444444,0.5714285714285714,0.625],"globalFreq":42,"impact":45,"occuranceInCorpus":["(Valid)MozartK279:2M01:06","(Valid)MozartK310:2M01:04","(Valid)MozartK311:2M01:04","(Valid)MozartK332:2M01:04","(Valid)MozartK457:2M01:03","(Valid)MozartK545:2M01:08","(Valid)SchubertN01M08:11","(Valid)SchubertN12M07:10","(Valid)SchubertN18M04:08","(Valid)SchubertN20M06:19","(Valid)SchubertN22M05:09","(Valid)SchumannN10M08:15"],"patternID":"PG9","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],"sizeExpanded":5},{"definition":{"contents":[{"contents":"PG43","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG43"],"dependentsDirect":["PG99"],"depths":[0.5,0.2857142857142857],"globalFreq":2,"impact":2,"occuranceInCorpus":["(Valid)MozartK309:2M01:04","(Valid)SchubertN10M07:15"],"patternID":"PG90","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG39","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG39"],"dependentsDirect":[],"depths":[0,0],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK284:2M01:08","(Valid)MozartK570:2M01:04"],"patternID":"PG91","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG29","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG24","tag":"Var"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG24","PG29"],"dependentsDirect":["PG104"],"depths":[0.2857142857142857,0.25],"globalFreq":2,"impact":2,"occuranceInCorpus":["(Valid)SchubertN13M10:25","(Valid)SchubertN18M04:08"],"patternID":"PG92","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":15},{"definition":{"contents":[{"contents":"PG29","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG18","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG18","PG29"],"dependentsDirect":[],"depths":[0.2,0.3333333333333333],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)SchumannN01M02:05","(Valid)SchumannN08M02:09"],"patternID":"PG93","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":13},{"definition":{"contents":[{"contents":"PG17","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG2","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG17","PG2"],"dependentsDirect":["PG95"],"depths":[0.2857142857142857,0.2222222222222222],"globalFreq":2,"impact":2,"occuranceInCorpus":["(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14"],"patternID":"PG94","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG17","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG94","tag":"Var"},[[{"tag":"Hole"},[]]]]]],"tag":"TreePattern"},"dependenciesDirect":["PG17","PG94"],"dependentsDirect":["PG96"],"depths":[0.14285714285714285,0.1111111111111111],"globalFreq":2,"impact":2,"occuranceInCorpus":["(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14"],"patternID":"PG95","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]],[{"tag":"Hole"},[]]]],"sizeExpanded":15},{"definition":{"contents":[{"contents":"PG95","tag":"Var"},[[{"tag":"Hole"},[]],[{"contents":"PG26","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG26","PG95"],"dependentsDirect":["PG98"],"depths":[0.14285714285714285,0.1111111111111111],"globalFreq":2,"impact":2,"occuranceInCorpus":["(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14"],"patternID":"PG96","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"tag":"Hole"},[]]]]]],"sizeExpanded":20},{"definition":{"contents":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":"PG78","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG78"],"dependentsDirect":[],"depths":[0.42857142857142855,0.3333333333333333],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK545:2M01:08","(Valid)SchubertN14M05:08"],"patternID":"PG97","ruleTree":[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"tag":"Hole"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":9},{"definition":{"contents":[{"contents":"PG96","tag":"Var"},[[{"contents":"PG15","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG15","PG96"],"dependentsDirect":["PG119"],"depths":[0.14285714285714285,0.1111111111111111],"globalFreq":2,"impact":2,"occuranceInCorpus":["(Valid)SchubertN06M05:08","(Valid)SchubertN06M09:14"],"patternID":"PG98","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Respell"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":23},{"definition":{"contents":[{"contents":"PG90","tag":"Var"},[[{"contents":"PG4","tag":"Var"},[]]]],"tag":"TreePattern"},"dependenciesDirect":["PG4","PG90"],"dependentsDirect":[],"depths":[0.5,0.2857142857142857],"globalFreq":2,"impact":0,"occuranceInCorpus":["(Valid)MozartK309:2M01:04","(Valid)SchubertN10M07:15"],"patternID":"PG99","ruleTree":[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]],[{"contents":{"tag":"Split"},"tag":"Constant"},[[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]],[{"contents":{"tag":"Prepare"},"tag":"Constant"},[[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]],[{"contents":{"tag":"Terminate"},"tag":"Constant"},[]]]]]]]],"sizeExpanded":15}];

        // Process the data
        (function () {
            // Calculate histogram dimensions
            const histogramHeight = height * 0.15; // 15% of the main plot height
            const histogramMargin = 0; // Space between main plot and histograms

            // Create scales
            const x = d3.scaleLinear()
                .domain([0, d3.max(data, d => d.globalFreq)])
                .range([1, width]);


            const y = d3.scaleLinear()
                .domain([0, d3.max(data, d => d.sizeExpanded)])
                .range([height, 0]);


            // Generate tick values to ensure consistency between plots and histograms
            const xTicks = x.ticks(15);
            const yTicks = y.ticks(15);

            // Adjust font size based on screen width - increasing sizes to match BarPlot
            const fontSize = width < 500 ? "12px" : "16px";
            const titleFontSize = width < 500 ? "18px" : "22px";
            const axisTitleSize = width < 500 ? "14px" : "18px";
            const histogramLabelSize = width < 500 ? "10px" : "12px";

            // Add X axis
            svg.append("g")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(x)
                    .tickValues(xTicks)
                    .tickSize(-5) // Negative value for inward ticks
                )
                .selectAll("text")
                .style("font-size", fontSize)
                .attr("y", 0) // Move text down away from the axis
                .attr("dy", "-0.71em"); // Standard adjustment for readability

            // Add X axis label
            svg.append("text")
                .attr("x", width / 2)
                .attr("y", height + histogramHeight + (width < 500 ? 50 : 70)) // Adjusted to accommodate histogram
                .attr("text-anchor", "middle")
                .attr("fill", "black")
                .style("font-size", axisTitleSize)
                .text("frequency");

            // Add Y axis
            svg.append("g")
                .call(d3.axisLeft(y)
                    .tickValues(yTicks)
                    .tickSize(-5) // Negative value for inward ticks
                )
                .selectAll("text")
                .style("font-size", fontSize)
                .attr("x", 10) // Move text left away from the axis
                .attr("dx", "1em"); // Standard adjustment for readability

            // Add Y axis label
            svg.append("text")
                .attr("transform", "rotate(-90)")
                .attr("y", -(histogramHeight + margin.left) + (width < 500 ? 15 : 25)) // Adjusted to accommodate histogram
                .attr("x", -height / 2)
                .attr("text-anchor", "middle")
                .attr("fill", "black")
                .style("font-size", axisTitleSize)
                .text("size");

            // Create X-axis histogram
            const xHistogram = d3.histogram()
                .value(d => d.globalFreq)
                .domain(x.domain())
                .thresholds(xTicks); // Use the same tick values as the main x-axis

            const xBins = xHistogram(data);

            // Determine y-scale for X histogram
            const xHistY = d3.scaleLinear()
                .domain([0, d3.max(xBins, d => d.length)])
                .range([0, histogramHeight]); // For downward bars

            // Create X histogram container
            const xHistGroup = svg.append("g")
                .attr("transform", `translate(0, ${height + histogramMargin / 2})`);

            // Draw X histogram bars - now facing downward
            const xHistBars = xHistGroup.selectAll("rect")
                .data(xBins)
                .join("rect")
                .attr("class", "histogram-bar")
                .attr("x", d => x(d.x0))
                .attr("width", d => Math.max(0, x(d.x1) - x(d.x0) - 1))
                .attr("y", 0) // Start at 0 to go downward
                .attr("height", d => xHistY(d.length));

            // Add frequency numbers to bars (for bars with enough width and non-zero frequency)
            xHistGroup.selectAll("text")
                .data(xBins)
                .join("text")
                .filter(d => d.length > 0 && (x(d.x1) - x(d.x0)) > 15) // Only add text to bars with enough width
                .attr("x", d => x(d.x0) + (x(d.x1) - x(d.x0)) / 2)
                .attr("y", d => xHistY(d.length) / 2 + 5) // Position in middle of bar
                .attr("text-anchor", "middle")
                .attr("fill", "#333")
                .style("font-size", histogramLabelSize)
                .text(d => d.length);

            // Create Y-axis histogram
            const yHistogram = d3.histogram()
                .value(d => d.sizeExpanded)
                .domain(y.domain())
                .thresholds(yTicks); // Use the same tick values as the main y-axis

            const yBins = yHistogram(data);

            // Determine x-scale for Y histogram
            const yHistX = d3.scaleLinear()
                .domain([0, d3.max(yBins, d => d.length)])
                .range([0, histogramHeight]); // Scale for leftward bars

            // Create Y histogram container - position at the left of the y-axis
            const yHistGroup = svg.append("g")
                .attr("transform", `translate(${-histogramMargin / 2}, 0)`);

            // Draw Y histogram bars (horizontal) - facing left and aligning with y-axis
            const yHistBars = yHistGroup.selectAll("rect")
                .data(yBins)
                .join("rect")
                .attr("class", "histogram-bar")
                .attr("x", d => -yHistX(d.length)) // Start at 0 and extend leftward
                .attr("width", d => yHistX(d.length))
                .attr("y", d => y(d.x1)) // Align with the y-axis values
                .attr("height", d => Math.max(0, y(d.x0) - y(d.x1) - 1));

            // Add frequency numbers to bars (for bars with enough height and non-zero frequency)
            yHistGroup.selectAll(".hist-label")
                .data(yBins)
                .join("text")
                .attr("class", "hist-label")
                .filter(d => d.length > 0 && (y(d.x0) - y(d.x1)) > 15) // Only add text to bars with enough height
                .attr("x", d => -yHistX(d.length) / 2) // Position in middle of bar
                .attr("y", d => y(d.x1) + (y(d.x0) - y(d.x1)) / 2 + 5) // Vertically center in bar
                .attr("text-anchor", "middle")
                .attr("fill", "#333")
                .style("font-size", histogramLabelSize)
                .text(d => d.length);

            // Add dots
            const tooltipContent = d =>
                `${d.patternID}<br>
                                    frequency: ${d.globalFreq} <br>
                                    size: ${d.sizeExpanded}`;

            svg.selectAll("circle")
                .data(data)
                .join("circle")
                .attr("cx", d => x(d.globalFreq + Math.random() * 0.1))
                .attr("cy", d => y(d.sizeExpanded + Math.random() * 0.1))
                .attr("r", width < 500 ? 4 : 6)
                .style("fill", "grey")
                .style("opacity", 0.7)
                .on("mouseover", function (event, d) {
                    d3.select(this)
                        .style("fill", "#69b3a2")
                        .attr("r", width < 500 ? 5 : 7);

                    tooltip.transition()
                        .duration(200)
                        .style("opacity", .9);

                    // Calculate tooltip position relative to the visualization container
                    const containerRect = document.getElementById('scatter-plot').getBoundingClientRect();
                    const tooltipX = event.pageX + 10;
                    const tooltipY = event.pageY - 28;

                    tooltip.html(tooltipContent(d))
                        .style("left", tooltipX + "px")
                        .style("top", tooltipY + "px");
                })
                .on("mouseout", function () {
                    d3.select(this)
                        .style("fill", selectedPiece === this.__data__ ? "#2e8b57" : "grey")
                        .attr("r", width < 500 ? 4 : 6);

                    tooltip.transition()
                        .duration(500)
                        .style("opacity", 0);
                })
                .on("click", function (event, d) {
                    // Highlight clicked circle
                    svg.selectAll("circle")
                        .style("fill", "grey")
                        .style("stroke", "none");

                    d3.select(this)
                        .style("fill", "#2e8b57")
                        .style("stroke", "#1e5931")
                        .style("stroke-width", 2);

                    // Update info panel with selected data
                    updateInfoPanel(d);
                    selectedPiece = d;

                    event.stopPropagation();
                })
                .on("touchstart", function (event, d) {
                    event.preventDefault();
                    d3.select(this)
                        .style("fill", "#69b3a2")
                        .attr("r", width < 500 ? 5 : 7);

                    tooltip.transition()
                        .duration(200)
                        .style("opacity", .9);



                    // Calculate tooltip position relative to the visualization container for touch events
                    const containerRect = document.getElementById('scatter-plot').getBoundingClientRect();
                    const tooltipX = event.touches[0].pageX - containerRect.left + 10;
                    const tooltipY = event.touches[0].pageY - containerRect.top - 28;

                    tooltip.html(tooltipContent(d))
                        .style("left", tooltipX + "px")
                        .style("top", tooltipY + "px");
                })
                .on("touchend", function () {
                    d3.select(this)
                        .style("fill", "grey")
                        .attr("r", width < 500 ? 4 : 6);

                    tooltip.transition()
                        .duration(500)
                        .style("opacity", 0);
                });

            const xExtent = d3.max(data, d => d.globalFreq)
            const yExtent = d3.max(data, d => d.sizeExpanded)
            const minExtent = Math.min(xExtent, yExtent)
            const oneToOne = [{ x: 0, y: 0 }, { x: minExtent, y: minExtent }];
            const line = d3.line()
                .x(d => x(d.x))
                .y(d => y(d.y));
            svg.append("path")
                .attr("fill", "none")
                .attr("stroke", "black")
                .attr("stroke-width", 1)
                .attr("d", line(oneToOne));

            // Add title
            svg.append("text")
                .attr("x", width / 2)
                .attr("y", -30)
                .attr("text-anchor", "middle")
                .style("font-size", titleFontSize)
                .text("Frequency vs Size (Rhythm)");
        })();

        // Global state for panel
        let selectedPiece = null;
        let currentTreeIndex = 0;
        let currentTrees = [];

        // Function to create tree SVG for a specific index
        function createTreeSVGForIndex(deCompressionProcess, index) {
            if (!deCompressionProcess || deCompressionProcess.length === 0 || index >= deCompressionProcess.length) return null;

            const ruleTree = deCompressionProcess[index];
            if (!ruleTree || ruleTree.length < 2) return null;

            const rootNode = ruleTree[0];
            const rootChildren = ruleTree[1];

            function parseTree(item) {
                if (Array.isArray(item)) {
                    if (item.length >= 1) {
                        const node = item[0];
                        const children = item.length > 1 ? item[1] : [];

                        if (node && typeof node === 'object' && !Array.isArray(node)) {
                            // Handle "With" nodes specially
                            if (node.tag === "With" && node.contents && Array.isArray(node.contents) && node.contents.length >= 2) {
                                const normalNode = node.contents[0];
                                const withData = node.contents[1];
                                
                                // Extract main node info
                                let nodeText, nodeTag;
                                if (normalNode.tag === "Constant" && normalNode.contents) {
                                    nodeText = normalNode.contents.contents || normalNode.contents.tag || "Constant";
                                    nodeTag = normalNode.contents.tag || "Constant";
                                } else if (normalNode.tag === "Var") {
                                    nodeText = normalNode.contents || "Var";
                                    nodeTag = "Var";
                                } else {
                                    nodeText = normalNode.contents || normalNode.tag || "Node";
                                    nodeTag = normalNode.tag;
                                }
                                
                                // Extract the string and list from withData
                                let withString = "";
                                let withList = [];
                                if (Array.isArray(withData) && withData.length >= 2) {
                                    withString = withData[0] || "";
                                    withList = withData[1] || [];
                                }
                                
                                const result = {
                                    name: nodeText,
                                    tag: nodeTag,
                                    nodeType: "With",
                                    withString: withString,
                                    withList: withList,
                                    children: []
                                };

                                // Parse children from the main children array
                                if (Array.isArray(children)) {
                                    for (const child of children) {
                                        const parsedChild = parseTree(child);
                                        if (parsedChild) result.children.push(parsedChild);
                                    }
                                }
                                
                                // Parse children from the withList
                                if (Array.isArray(withList)) {
                                    for (const withChild of withList) {
                                        const parsedWithChild = parseTree(withChild);
                                        if (parsedWithChild) result.children.push(parsedWithChild);
                                    }
                                }
                                
                                return result;
                            }
                            
                            // Handle regular nodes
                            let nodeText, nodeTag;
                            if (node.tag === "Hole") {
                                nodeText = "○";
                                nodeTag = "Hole";
                            } else if (node.tag === "Constant" && node.contents) {
                                nodeText = node.contents.contents || node.contents.tag || "Constant";
                                nodeTag = node.contents.tag || "Constant";
                            } else if (node.tag === "Var") {
                                nodeText = node.contents || "Var";
                                nodeTag = "Var";
                            } else {
                                nodeText = node.contents || node.tag || "Node";
                                nodeTag = node.tag;
                            }

                            const result = {
                                name: nodeText,
                                tag: nodeTag,
                                nodeType: node.tag,
                                children: []
                            };

                            if (Array.isArray(children)) {
                                for (const child of children) {
                                    const parsedChild = parseTree(child);
                                    if (parsedChild) result.children.push(parsedChild);
                                }
                            }
                            return result;
                        }
                    }
                } else if (item && typeof item === 'object') {
                    // Handle "With" nodes that are not in array format
                    if (item.tag === "With" && item.contents && Array.isArray(item.contents) && item.contents.length >= 2) {
                        const normalNode = item.contents[0];
                        const withData = item.contents[1];
                        
                        // Extract main node info
                        let nodeText, nodeTag;
                        if (normalNode.tag === "Constant" && normalNode.contents) {
                            nodeText = normalNode.contents.contents || normalNode.contents.tag || "Constant";
                            nodeTag = normalNode.contents.tag || "Constant";
                        } else if (normalNode.tag === "Var") {
                            nodeText = normalNode.contents || "Var";
                            nodeTag = "Var";
                        } else {
                            nodeText = normalNode.contents || normalNode.tag || "Node";
                            nodeTag = normalNode.tag;
                        }
                        
                        // Extract the string and list from withData
                        let withString = "";
                        let withList = [];
                        if (Array.isArray(withData) && withData.length >= 2) {
                            withString = withData[0] || "";
                            withList = withData[1] || [];
                        }
                        
                        const result = {
                            name: nodeText,
                            tag: nodeTag,
                            nodeType: "With",
                            withString: withString,
                            withList: withList,
                            children: []
                        };
                        
                        // Parse children from the withList
                        if (Array.isArray(withList)) {
                            for (const withChild of withList) {
                                const parsedWithChild = parseTree(withChild);
                                if (parsedWithChild) result.children.push(parsedWithChild);
                            }
                        }
                        
                        return result;
                    }
                    
                    // Handle regular object nodes
                    let nodeText, nodeTag, nodeType;
                    if (item.tag === "Hole") {
                        nodeText = "○";
                        nodeTag = "Hole";
                        nodeType = "Hole";
                    } else if (item.tag === "Constant" && item.contents) {
                        nodeText = item.contents.contents || item.contents.tag || "Constant";
                        nodeTag = item.contents.tag || "Constant";
                        nodeType = "Constant";
                    } else if (item.tag === "Var") {
                        nodeText = item.contents || "Var";
                        nodeTag = "Var";
                        nodeType = "Var";
                    } else {
                        nodeText = item.contents || item.tag || "Node";
                        nodeTag = item.tag;
                        nodeType = item.tag;
                    }

                    return {
                        name: nodeText,
                        tag: nodeTag,
                        nodeType: nodeType,
                        children: []
                    };
                }
                return null;
            }

            let treeData;
            if (rootNode.tag === "Hole") {
                treeData = {
                    name: "○",
                    tag: "Hole",
                    nodeType: "Hole",
                    children: []
                };
            } else if (rootNode.tag === "Constant" && rootNode.contents) {
                treeData = {
                    name: rootNode.contents.contents || rootNode.contents.tag || "Constant",
                    tag: rootNode.contents.tag || "Constant",
                    nodeType: "Constant",
                    children: []
                };
            } else if (rootNode.tag === "Var") {
                treeData = {
                    name: rootNode.contents || "Var",
                    tag: "Var",
                    nodeType: "Var",
                    children: []
                };
            } else {
                treeData = {
                    name: rootNode.contents || rootNode.tag || "Root",
                    tag: rootNode.tag,
                    nodeType: rootNode.tag,
                    children: []
                };
            }

            if (Array.isArray(rootChildren)) {
                for (const child of rootChildren) {
                    const parsedChild = parseTree(child);
                    if (parsedChild) treeData.children.push(parsedChild);
                }
            }

            // Calculate tree dimensions
            function calculateTreeDimensions(root) {
                const hierarchy = d3.hierarchy(root);
                const maxDepth = hierarchy.height;
                const leaves = hierarchy.leaves().length;

                // Get the full panel width (minus padding)
                const infoPanel = document.getElementById('info-panel');
                const panelWidth = infoPanel ? infoPanel.clientWidth - 40 : 460; // 20px padding on each side
                
                const minWidth = panelWidth;
                const minHeight = 200;
                const nodeWidth = 80;
                const nodeHeight = 60;

                // Use full panel width
                const idealWidth = panelWidth;
                const idealHeight = Math.max(minHeight, (maxDepth + 1) * nodeHeight + 80);

                // Set maximum height constraint
                const maxHeight = 400; // Maximum height to prevent overly tall trees

                // Scale down height if needed
                const scaleY = idealHeight > maxHeight ? maxHeight / idealHeight : 1;

                return {
                    width: idealWidth,
                    height: Math.min(idealHeight, maxHeight),
                    scale: scaleY,
                    idealWidth: idealWidth,
                    idealHeight: idealHeight
                };
            }

            const dimensions = calculateTreeDimensions(treeData);
            const treeWidth = dimensions.width;
            const treeHeight = dimensions.height;
            const scale = dimensions.scale;
            const fontSize = Math.max(8, Math.min(12, (treeWidth / 50) * scale));

            const treeSvg = d3.create("svg")
                .attr("width", treeWidth)
                .attr("height", treeHeight)
                .style("background", "rgba(0, 0, 0, 0.9)")
                .style("border-radius", "5px");

            // Apply scaling to the tree layout based on ideal dimensions
            const layoutWidth = (dimensions.idealWidth ) * scale;
            const layoutHeight = (dimensions.idealHeight -60 ) * scale;

            const treeLayout = d3.tree()
                .size([layoutWidth, layoutHeight])
                .separation((a, b) => {
                    // Calculate actual node widths for both nodes
                    const aTextLength = a.data.name.length;
                    const bTextLength = b.data.name.length;
                    const aWidth = Math.max(aTextLength * fontSize * 0.6 + 24, fontSize * 3);
                    const bWidth = Math.max(bTextLength * fontSize * 0.6 + 24, fontSize * 3);
                    
                    // Calculate minimum separation needed to prevent overlap
                    const minSeparation = (aWidth + bWidth) / 2 + 20; // Extra padding
                    
                    // Scale separation based on available width and tree scale
                    const baseSeparation = Math.max(2, minSeparation / 60);
                    
                    // Increase separation for siblings vs cousins
                    const isSibling = a.parent === b.parent;
                    const separationMultiplier = isSibling ? 1.5 : 1.0;
                    
                    return baseSeparation * separationMultiplier / scale;
                });

            const hierarchyTree = d3.hierarchy(treeData);
            const treeNodes = treeLayout(hierarchyTree);

            const g = treeSvg.append("g")
                .attr("transform", `translate(${treeWidth/2 - layoutWidth/2}, ${treeHeight/2 - layoutHeight/2})`);

            // Add links with scaled stroke width
            g.selectAll(".tree-link")
                .data(treeNodes.links())
                .enter().append("line")
                .attr("class", "tree-link")
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y)
                .style("stroke", "#999")
                .style("stroke-width", Math.max(1, 2 * scale));

            // Add nodes
            const node = g.selectAll(".tree-node")
                .data(treeNodes.descendants())
                .enter().append("g")
                .attr("class", "tree-node")
                .attr("transform", d => `translate(${d.x},${d.y})`);

            // Add background shapes with scaled dimensions and overlap prevention
            node.each(function (d) {
                const nodeElement = d3.select(this);
                const isWithNode = d.data.nodeType === "With";
                const textLength = d.data.name.length;
                
                // Calculate available space based on tree width and number of leaves at this level
                const levelNodes = treeNodes.descendants().filter(n => n.depth === d.depth);
                const availableWidth = layoutWidth / Math.max(levelNodes.length, 1);
                const maxNodeWidth = availableWidth * 0.8; // Leave some spacing between nodes
                
                // Start with base font size and scale down if needed
                let adjustedFontSize = fontSize;
                let nodeWidth = Math.max(textLength * adjustedFontSize * 0.6 + 12, adjustedFontSize * 2.5);
                
                // Shrink font size if node would be too wide
                while (nodeWidth > maxNodeWidth && adjustedFontSize > 6) {
                    adjustedFontSize -= 0.5;
                    nodeWidth = Math.max(textLength * adjustedFontSize * 0.6 + 12, adjustedFontSize * 2.5);
                }
                
                // Apply overall scale factor
                const finalFontSize = Math.max(6, adjustedFontSize * scale);
                const finalNodeWidth = Math.min(nodeWidth * scale, maxNodeWidth);
                // Make "With" nodes taller to accommodate multiple lines
                const finalNodeHeight = isWithNode ? 
                    Math.max(finalFontSize * 3 + 8, finalFontSize * 2 + 6) : 
                    Math.max(finalFontSize * 1.4 + 6, finalFontSize + 4);

                if (d.data.nodeType !== "Hole") {
                    nodeElement.append("rect")
                        .attr("width", finalNodeWidth)
                        .attr("height", finalNodeHeight)
                        .attr("x", -finalNodeWidth / 2)
                        .attr("y", -finalNodeHeight / 2)
                        .attr("rx", Math.max(2, finalFontSize * 0.25))
                        .style("fill", d => {
                            const nodeTag = d.data.tag || d.data.nodeType;
                            return TREE_NODE_COLORS[nodeTag] || TREE_NODE_COLORS.default;
                        })
                        .style("stroke", "#fff")
                        .style("stroke-width", Math.max(0.5, finalFontSize * 0.1));
                }
                
                // Store the final font size for text rendering
                d._finalFontSize = finalFontSize;
                d._finalNodeWidth = finalNodeWidth;
                d._finalNodeHeight = finalNodeHeight;
                d._adjustedFontSize = adjustedFontSize;
            });

            // Add text labels with dynamically scaled font and smart truncation for "With" nodes
            node.each(function(d) {
                const nodeElement = d3.select(this);
                const isWithNode = d.data.nodeType === "With";
                
                if (isWithNode) {
                    // For "With" nodes, display three components: main text, withString, withList count
                    const mainText = d.data.name;
                    const withString = d.data.withString || "";
                    const withListCount = (d.data.withList && Array.isArray(d.data.withList)) ? d.data.withList.length : 0;
                    
                    // Main node text (top line)
                    nodeElement.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", "-0.5em")
                        .style("font-family", "monospace")
                        .style("font-size", `${d._finalFontSize}px`)
                        .style("fill", "white")
                        .style("font-weight", "bold")
                        .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                        .text(mainText);
                    
                    // With string (middle line, yellow)
                    if (withString) {
                        nodeElement.append("text")
                            .attr("text-anchor", "middle")
                            .attr("dy", "0.35em")
                            .style("font-family", "monospace")
                            .style("font-size", `${Math.max(6, d._finalFontSize * 0.8)}px`)
                            .style("fill", "#FFD700")
                            .style("font-weight", "bold")
                            .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                            .text(withString);
                    }
                    
                    // With list count (bottom line, light blue)
                    if (withListCount > 0) {
                        nodeElement.append("text")
                            .attr("text-anchor", "middle")
                            .attr("dy", "1.2em")
                            .style("font-family", "monospace")
                            .style("font-size", `${Math.max(6, d._finalFontSize * 0.7)}px`)
                            .style("fill", "#87CEEB")
                            .style("font-weight", "bold")
                            .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                            .text(`[${withListCount}]`);
                    }
                } else {
                    // For regular nodes, use single-line text
                    const text = d.data.name;
                    const maxWidth = d._finalNodeWidth - 8; // Padding inside node
                    const charWidth = d._finalFontSize * 0.6;
                    const maxChars = Math.floor(maxWidth / charWidth);
                    
                    let displayText = text;
                    // Truncate text if needed
                    if (text.length > maxChars && maxChars > 3) {
                        if (maxChars <= 6) {
                            // Very small space - just show first few chars
                            displayText = text.substring(0, maxChars);
                        } else {
                            // Enough space for ellipsis
                            displayText = text.substring(0, maxChars - 3) + "...";
                        }
                    }
                    
                    nodeElement.append("text")
                        .attr("text-anchor", "middle")
                        .attr("dy", "0.35em")
                        .style("font-family", "monospace")
                        .style("font-size", `${d._finalFontSize}px`)
                        .style("fill", "white")
                        .style("font-weight", "bold")
                        .style("text-shadow", "1px 1px 2px rgba(0,0,0,0.8)")
                        .text(displayText);
                }
            });

            return treeSvg.node();
        }

        // Function to navigate to previous tree
        window.navigateToPreviousTree = function() {
            if (currentTreeIndex > 0) {
                currentTreeIndex--;
                updateTreeDisplay();
            }
        }

        // Function to navigate to next tree
        window.navigateToNextTree = function() {
            if (currentTreeIndex < currentTrees.length - 1) {
                currentTreeIndex++;
                updateTreeDisplay();
            }
        }

        // Function to update tree display
        function updateTreeDisplay() {
            const treeContainer = document.querySelector('.tree-svg-container');
            const treeCounter = document.querySelector('.tree-counter');
            const prevButton = document.querySelector('#prev-tree');
            const nextButton = document.querySelector('#next-tree');

            if (treeContainer && currentTrees.length > 0) {
                // Clear existing SVG
                treeContainer.innerHTML = '';

                // Create new SVG for current index
                const treeSvg = createTreeSVGForIndex(currentTrees, currentTreeIndex);
                if (treeSvg) {
                    treeContainer.appendChild(treeSvg);
                }

                // Update counter
                if (treeCounter) {
                    treeCounter.textContent = `${currentTreeIndex + 1} / ${currentTrees.length}`;
                }

                // Update button states
                if (prevButton) {
                    prevButton.disabled = currentTreeIndex === 0;
                }
                if (nextButton) {
                    nextButton.disabled = currentTreeIndex === currentTrees.length - 1;
                }
            }
        }

        // Function to update info panel
        function updateInfoPanel(d) {
            const infoContent = document.querySelector('.info-panel-content');

            // Create piece details
            const pieceDetailsHtml = `
                <div class="piece-details">
                    <h3>${d.patternID}</h3>
                    <div class="detail-item">
                        <span class="detail-label">frequency:</span>
                        <span class="detail-value">${d.globalFreq}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">size:</span>
                        <span class="detail-value">${d.sizeExpanded}</span>
                    </div>
                    ${d.compressedSize ? `<div class="detail-item">
                        <span class="detail-label">Compression Ratio:</span>
                        <span class="detail-value">${(d.globalFreq / d.sizeExpanded).toFixed(2)}</span>
                    </div>` : ''}
                    ${d.globalFreq ? `<div class="detail-item">
                        <span class="detail-label">Global Frequency:</span>
                        <span class="detail-value">${d.globalFreq}</span>
                    </div>` : ''}
                    ${d.sizeExpanded ? `<div class="detail-item">
                        <span class="detail-label">Size Expanded:</span>
                        <span class="detail-value">${d.sizeExpanded}</span>
                    </div>` : ''}
                </div>
            `;

            // Add tree display with navigation
            let treeHtml = '<div id="tree-display">';
            if (d.deCompressionProcess && d.deCompressionProcess.length > 0) {
                // Set global state for tree navigation
                currentTrees = d.deCompressionProcess;
                currentTreeIndex = 0;

                // Create navigation controls regardless of tree count
                treeHtml += `
                    <div class="tree-navigation">
                        <button id="prev-tree" class="tree-nav-button" disabled>← Prev</button>
                        <span class="tree-counter">1 / ${currentTrees.length}</span>
                        <button id="next-tree" class="tree-nav-button" ${currentTrees.length <= 1 ? 'disabled' : ''}>Next →</button>
                    </div>
                `;

                treeHtml += '<div class="tree-svg-container">';

                // Create initial tree SVG
                const treeSvg = createTreeSVGForIndex(currentTrees, 0);
                if (treeSvg) {
                    treeHtml += treeSvg.outerHTML;
                } else {
                    treeHtml += '<div class="no-selection">No tree visualization available</div>';
                }
                
                treeHtml += '</div>';
            } else {
                treeHtml += '<div class="no-selection">No decompression process available</div>';
            }
            treeHtml += '</div>';

            infoContent.innerHTML = pieceDetailsHtml + treeHtml;

            // Bind event handlers after DOM is updated - regardless of tree count
            if (d.deCompressionProcess && d.deCompressionProcess.length > 0) {
                const prevButton = document.querySelector('#prev-tree');
                const nextButton = document.querySelector('#next-tree');
                
                if (prevButton) {
                    prevButton.addEventListener('click', function() {
                        if (currentTreeIndex > 0) {
                            currentTreeIndex--;
                            updateTreeDisplay();
                        }
                    });
                }
                
                if (nextButton) {
                    nextButton.addEventListener('click', function() {
                        if (currentTreeIndex < currentTrees.length - 1) {
                            currentTreeIndex++;
                            updateTreeDisplay();
                        }
                    });
                }
            }
        }

        // Create tooltip div
        const tooltip = d3.select("body").append("div")
            .attr("class", "tooltip")
            .style("opacity", 0);

        // Function to clear info panel
        function clearInfoPanel() {
            const infoContent = document.querySelector('.info-panel-content');
            infoContent.innerHTML = '<div class="no-selection">Click on a data point to view piece details and tree visualization</div>';
        }

        // Add background click handler to clear selection
        d3.select('body').on('click', function(event) {
            if (!event.target.closest('circle') && !event.target.closest('#info-panel')) {
                // Clear selection
                svg.selectAll("circle")
                    .style("fill", "grey")
                    .style("stroke", "none");
                selectedPiece = null;
                clearInfoPanel();
            }
        });
    </script>
</body>

</html>